<!DOCTYPE html>
<html>
<head>
  <title>Form_validation.php</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../../../doc-style.css" />
  <script src="../../../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../../../";
    var thisFile = "src\\myapp\\system\\libraries\\Form_validation.php";
    var defaultSidebar = true;
  </script>
  <script src="../../../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
      <tr>
        <td class="docs">
          <h1>Form_validation.php</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1"></a>
</div>

        </td>
        <td class="code highlight">
          <pre class="php"><span class="hljs-meta">&lt;?php</span>
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2"></a>
</div>
<div class="dox">
<div class="summary">
<p>CodeIgniter</p>
</div>
<div class="body">
<p>An open source application development framework for PHP</p>
<p>This content is released under the MIT License (MIT)</p>
<p>Copyright (c) 2014 - 2019, British Columbia Institute of Technology</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the &quot;Software&quot;), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.</p>
</div>
<div class="details">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">defined(<span class="hljs-string">'BASEPATH'</span>) <span class="hljs-keyword">OR</span> <span class="hljs-keyword">exit</span>(<span class="hljs-string">'No direct script access allowed'</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3"></a>
</div>
<div class="dox">
<div class="summary">
<p>Form Validation Class</p>
</div>
<div class="body">
</div>
<div class="details">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CI_Form_validation</span> </span>{

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4"></a>
</div>
<div class="dox">
<div class="summary">
<p>Reference to the CodeIgniter instance</p>
</div>
<div class="body">
</div>
<div class="details">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">protected</span> $CI;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5"></a>
</div>
<div class="dox">
<div class="summary">
<p>Validation data for the current form submission</p>
</div>
<div class="body">
</div>
<div class="details">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">protected</span> $_field_data		= <span class="hljs-keyword">array</span>();

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6"></a>
</div>
<div class="dox">
<div class="summary">
<p>Validation rules for the current form</p>
</div>
<div class="body">
</div>
<div class="details">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">protected</span> $_config_rules	= <span class="hljs-keyword">array</span>();

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7"></a>
</div>
<div class="dox">
<div class="summary">
<p>Array of validation errors</p>
</div>
<div class="body">
</div>
<div class="details">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">protected</span> $_error_array		= <span class="hljs-keyword">array</span>();

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-8" id="section-8"></a>
</div>
<div class="dox">
<div class="summary">
<p>Array of custom error messages</p>
</div>
<div class="body">
</div>
<div class="details">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">protected</span> $_error_messages	= <span class="hljs-keyword">array</span>();

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-9" id="section-9"></a>
</div>
<div class="dox">
<div class="summary">
<p>Start tag for error wrapping</p>
</div>
<div class="body">
</div>
<div class="details">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">protected</span> $_error_prefix	= <span class="hljs-string">'&lt;p&gt;'</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-10" id="section-10"></a>
</div>
<div class="dox">
<div class="summary">
<p>End tag for error wrapping</p>
</div>
<div class="body">
</div>
<div class="details">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">protected</span> $_error_suffix	= <span class="hljs-string">'&lt;/p&gt;'</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-11" id="section-11"></a>
</div>
<div class="dox">
<div class="summary">
<p>Custom error message</p>
</div>
<div class="body">
</div>
<div class="details">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">protected</span> $error_string		= <span class="hljs-string">''</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-12" id="section-12"></a>
</div>
<div class="dox">
<div class="summary">
<p>Whether the form data has been validated as safe</p>
</div>
<div class="body">
</div>
<div class="details">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">protected</span> $_safe_form_data	= <span class="hljs-keyword">FALSE</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-13" id="section-13"></a>
</div>
<div class="dox">
<div class="summary">
<p>Custom data to validate</p>
</div>
<div class="body">
</div>
<div class="details">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> $validation_data	= <span class="hljs-keyword">array</span>();

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-14" id="section-14"></a>
</div>
<div class="dox">
<div class="summary">
<p>Initialize Form_Validation class</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">array</span>
<span>$rules
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>void
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">($rules = array<span class="hljs-params">()</span>)</span>
	</span>{
		<span class="hljs-keyword">$this</span>-&gt;CI =&amp; get_instance();

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-15" id="section-15"></a>
</div>
<p>applies delimiters set in config file.</p>

        </td>
        <td class="code highlight">
          <pre class="php">		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">isset</span>($rules[<span class="hljs-string">'error_prefix'</span>]))
		{
			<span class="hljs-keyword">$this</span>-&gt;_error_prefix = $rules[<span class="hljs-string">'error_prefix'</span>];
			<span class="hljs-keyword">unset</span>($rules[<span class="hljs-string">'error_prefix'</span>]);
		}
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">isset</span>($rules[<span class="hljs-string">'error_suffix'</span>]))
		{
			<span class="hljs-keyword">$this</span>-&gt;_error_suffix = $rules[<span class="hljs-string">'error_suffix'</span>];
			<span class="hljs-keyword">unset</span>($rules[<span class="hljs-string">'error_suffix'</span>]);
		}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-16" id="section-16"></a>
</div>
<p>Validation rules can be stored in a config file.</p>

        </td>
        <td class="code highlight">
          <pre class="php">		<span class="hljs-keyword">$this</span>-&gt;_config_rules = $rules;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-17" id="section-17"></a>
</div>
<p>Automatically load the form helper</p>

        </td>
        <td class="code highlight">
          <pre class="php">		<span class="hljs-keyword">$this</span>-&gt;CI-&gt;load-&gt;helper(<span class="hljs-string">'form'</span>);

		log_message(<span class="hljs-string">'info'</span>, <span class="hljs-string">'Form Validation Class Initialized'</span>);
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-18" id="section-18"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-19" id="section-19"></a>
</div>
<div class="dox">
<div class="summary">
<p>Set Rules</p>
</div>
<div class="body">
<p>This function takes an array of field names and validation
rules as input, any custom error messages, validates the info,
and stores it</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">mixed</span>
<span>$field
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
<span>$label
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">mixed</span>
<span>$rules
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">array</span>
<span>$errors
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>CI_Form_validation
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">set_rules</span><span class="hljs-params">($field, $label = <span class="hljs-string">''</span>, $rules = array<span class="hljs-params">()</span>, $errors = array<span class="hljs-params">()</span>)</span>
	</span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-20" id="section-20"></a>
</div>
<p>No reason to set rules if we have no POST data
or a validation array has not been specified</p>

        </td>
        <td class="code highlight">
          <pre class="php">		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">$this</span>-&gt;CI-&gt;input-&gt;method() !== <span class="hljs-string">'post'</span> &amp;&amp; <span class="hljs-keyword">empty</span>(<span class="hljs-keyword">$this</span>-&gt;validation_data))
		{
			<span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>;
		}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-21" id="section-21"></a>
</div>
<p>If an array was passed via the first parameter instead of individual string
values we cycle through it and recursively call this function.</p>

        </td>
        <td class="code highlight">
          <pre class="php">		<span class="hljs-keyword">if</span> (is_array($field))
		{
			<span class="hljs-keyword">foreach</span> ($field <span class="hljs-keyword">as</span> $row)
			{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-22" id="section-22"></a>
</div>
<p>Houston, we have a problem...</p>

        </td>
        <td class="code highlight">
          <pre class="php">				<span class="hljs-keyword">if</span> ( ! <span class="hljs-keyword">isset</span>($row[<span class="hljs-string">'field'</span>], $row[<span class="hljs-string">'rules'</span>]))
				{
					<span class="hljs-keyword">continue</span>;
				}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-23" id="section-23"></a>
</div>
<p>If the field label wasn't passed we use the field name</p>

        </td>
        <td class="code highlight">
          <pre class="php">				$label = <span class="hljs-keyword">isset</span>($row[<span class="hljs-string">'label'</span>]) ? $row[<span class="hljs-string">'label'</span>] : $row[<span class="hljs-string">'field'</span>];

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-24" id="section-24"></a>
</div>
<p>Add the custom error message array</p>

        </td>
        <td class="code highlight">
          <pre class="php">				$errors = (<span class="hljs-keyword">isset</span>($row[<span class="hljs-string">'errors'</span>]) &amp;&amp; is_array($row[<span class="hljs-string">'errors'</span>])) ? $row[<span class="hljs-string">'errors'</span>] : <span class="hljs-keyword">array</span>();

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-25" id="section-25"></a>
</div>
<p>Here we go!</p>

        </td>
        <td class="code highlight">
          <pre class="php">				<span class="hljs-keyword">$this</span>-&gt;set_rules($row[<span class="hljs-string">'field'</span>], $label, $row[<span class="hljs-string">'rules'</span>], $errors);
			}

			<span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>;
		}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-26" id="section-26"></a>
</div>
<p>No fields or no rules? Nothing to do...</p>

        </td>
        <td class="code highlight">
          <pre class="php">		<span class="hljs-keyword">if</span> ( ! is_string($field) <span class="hljs-keyword">OR</span> $field === <span class="hljs-string">''</span> <span class="hljs-keyword">OR</span> <span class="hljs-keyword">empty</span>($rules))
		{
			<span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>;
		}
		<span class="hljs-keyword">elseif</span> ( ! is_array($rules))
		{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-27" id="section-27"></a>
</div>
<p>BC: Convert pipe-separated rules string to an array</p>

        </td>
        <td class="code highlight">
          <pre class="php">			<span class="hljs-keyword">if</span> ( ! is_string($rules))
			{
				<span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>;
			}

			$rules = preg_split(<span class="hljs-string">'/\|(?![^\[]*\])/'</span>, $rules);
		}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-28" id="section-28"></a>
</div>
<p>If the field label wasn't passed we use the field name</p>

        </td>
        <td class="code highlight">
          <pre class="php">		$label = ($label === <span class="hljs-string">''</span>) ? $field : $label;

		$indexes = <span class="hljs-keyword">array</span>();

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-29" id="section-29"></a>
</div>
<p>Is the field name an array? If it is an array, we break it apart
into its components so that we can fetch the corresponding POST data later</p>

        </td>
        <td class="code highlight">
          <pre class="php">		<span class="hljs-keyword">if</span> (($is_array = (bool) preg_match_all(<span class="hljs-string">'/\[(.*?)\]/'</span>, $field, $matches)) === <span class="hljs-keyword">TRUE</span>)
		{
			sscanf($field, <span class="hljs-string">'%[^[]['</span>, $indexes[<span class="hljs-number">0</span>]);

			<span class="hljs-keyword">for</span> ($i = <span class="hljs-number">0</span>, $c = count($matches[<span class="hljs-number">0</span>]); $i &lt; $c; $i++)
			{
				<span class="hljs-keyword">if</span> ($matches[<span class="hljs-number">1</span>][$i] !== <span class="hljs-string">''</span>)
				{
					$indexes[] = $matches[<span class="hljs-number">1</span>][$i];
				}
			}
		}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-30" id="section-30"></a>
</div>
<p>Build our master array</p>

        </td>
        <td class="code highlight">
          <pre class="php">		<span class="hljs-keyword">$this</span>-&gt;_field_data[$field] = <span class="hljs-keyword">array</span>(
			<span class="hljs-string">'field'</span>		=&gt; $field,
			<span class="hljs-string">'label'</span>		=&gt; $label,
			<span class="hljs-string">'rules'</span>		=&gt; $rules,
			<span class="hljs-string">'errors'</span>	=&gt; $errors,
			<span class="hljs-string">'is_array'</span>	=&gt; $is_array,
			<span class="hljs-string">'keys'</span>		=&gt; $indexes,
			<span class="hljs-string">'postdata'</span>	=&gt; <span class="hljs-keyword">NULL</span>,
			<span class="hljs-string">'error'</span>		=&gt; <span class="hljs-string">''</span>
		);

		<span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>;
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-31" id="section-31"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-32" id="section-32"></a>
</div>
<div class="dox">
<div class="summary">
<p>By default, form validation uses the $_POST array to validate</p>
</div>
<div class="body">
<p>If an array is set through this method, then this array will
be used instead of the $_POST array</p>
<p>Note that if you are validating multiple arrays, then the
reset_validation() function should be called after validating
each array due to the limitations of CI's singleton</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">array</span>
<span>$data
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>CI_Form_validation
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">set_data</span><span class="hljs-params">(array $data)</span>
	</span>{
		<span class="hljs-keyword">if</span> ( ! <span class="hljs-keyword">empty</span>($data))
		{
			<span class="hljs-keyword">$this</span>-&gt;validation_data = $data;
		}

		<span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>;
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-33" id="section-33"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-34" id="section-34"></a>
</div>
<div class="dox">
<div class="summary">
<p>Set Error Message</p>
</div>
<div class="body">
<p>Lets users set their own error messages on the fly. Note:
The key name has to match the function name that it corresponds to.</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">array</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>CI_Form_validation
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">set_message</span><span class="hljs-params">($lang, $val = <span class="hljs-string">''</span>)</span>
	</span>{
		<span class="hljs-keyword">if</span> ( ! is_array($lang))
		{
			$lang = <span class="hljs-keyword">array</span>($lang =&gt; $val);
		}

		<span class="hljs-keyword">$this</span>-&gt;_error_messages = array_merge(<span class="hljs-keyword">$this</span>-&gt;_error_messages, $lang);
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>;
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-35" id="section-35"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-36" id="section-36"></a>
</div>
<div class="dox">
<div class="summary">
<p>Set The Error Delimiter</p>
</div>
<div class="body">
<p>Permits a prefix/suffix to be added to each error message</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>CI_Form_validation
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">set_error_delimiters</span><span class="hljs-params">($prefix = <span class="hljs-string">'&lt;p&gt;'</span>, $suffix = <span class="hljs-string">'&lt;/p&gt;'</span>)</span>
	</span>{
		<span class="hljs-keyword">$this</span>-&gt;_error_prefix = $prefix;
		<span class="hljs-keyword">$this</span>-&gt;_error_suffix = $suffix;
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>;
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-37" id="section-37"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-38" id="section-38"></a>
</div>
<div class="dox">
<div class="summary">
<p>Get Error Message</p>
</div>
<div class="body">
<p>Gets the error message associated with a particular field</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
<span>$field Field name
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
<span>$prefix HTML start tag
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
<span>$suffix HTML end tag
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>string
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">error</span><span class="hljs-params">($field, $prefix = <span class="hljs-string">''</span>, $suffix = <span class="hljs-string">''</span>)</span>
	</span>{
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">empty</span>(<span class="hljs-keyword">$this</span>-&gt;_field_data[$field][<span class="hljs-string">'error'</span>]))
		{
			<span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
		}

		<span class="hljs-keyword">if</span> ($prefix === <span class="hljs-string">''</span>)
		{
			$prefix = <span class="hljs-keyword">$this</span>-&gt;_error_prefix;
		}

		<span class="hljs-keyword">if</span> ($suffix === <span class="hljs-string">''</span>)
		{
			$suffix = <span class="hljs-keyword">$this</span>-&gt;_error_suffix;
		}

		<span class="hljs-keyword">return</span> $prefix.<span class="hljs-keyword">$this</span>-&gt;_field_data[$field][<span class="hljs-string">'error'</span>].$suffix;
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-39" id="section-39"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-40" id="section-40"></a>
</div>
<div class="dox">
<div class="summary">
<p>Get Array of Error Messages</p>
</div>
<div class="body">
<p>Returns the error messages as an array</p>
</div>
<div class="details">
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>array
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">error_array</span><span class="hljs-params">()</span>
	</span>{
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;_error_array;
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-41" id="section-41"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-42" id="section-42"></a>
</div>
<div class="dox">
<div class="summary">
<p>Error String</p>
</div>
<div class="body">
<p>Returns the error messages as a string, wrapped in the error delimiters</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>string
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">error_string</span><span class="hljs-params">($prefix = <span class="hljs-string">''</span>, $suffix = <span class="hljs-string">''</span>)</span>
	</span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-43" id="section-43"></a>
</div>
<p>No errors, validation passes!</p>

        </td>
        <td class="code highlight">
          <pre class="php">		<span class="hljs-keyword">if</span> (count(<span class="hljs-keyword">$this</span>-&gt;_error_array) === <span class="hljs-number">0</span>)
		{
			<span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
		}

		<span class="hljs-keyword">if</span> ($prefix === <span class="hljs-string">''</span>)
		{
			$prefix = <span class="hljs-keyword">$this</span>-&gt;_error_prefix;
		}

		<span class="hljs-keyword">if</span> ($suffix === <span class="hljs-string">''</span>)
		{
			$suffix = <span class="hljs-keyword">$this</span>-&gt;_error_suffix;
		}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-44" id="section-44"></a>
</div>
<p>Generate the error string</p>

        </td>
        <td class="code highlight">
          <pre class="php">		$str = <span class="hljs-string">''</span>;
		<span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">$this</span>-&gt;_error_array <span class="hljs-keyword">as</span> $val)
		{
			<span class="hljs-keyword">if</span> ($val !== <span class="hljs-string">''</span>)
			{
				$str .= $prefix.$val.$suffix.<span class="hljs-string">"\n"</span>;
			}
		}

		<span class="hljs-keyword">return</span> $str;
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-45" id="section-45"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-46" id="section-46"></a>
</div>
<div class="dox">
<div class="summary">
<p>Run the Validator</p>
</div>
<div class="body">
<p>This function does all the work.</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
<span>$group
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>bool
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">run</span><span class="hljs-params">($group = <span class="hljs-string">''</span>)</span>
	</span>{
		$validation_array = <span class="hljs-keyword">empty</span>(<span class="hljs-keyword">$this</span>-&gt;validation_data)
			? $_POST
			: <span class="hljs-keyword">$this</span>-&gt;validation_data;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-47" id="section-47"></a>
</div>
<p>Does the _field_data array containing the validation rules exist?
If not, we look to see if they were assigned via a config file</p>

        </td>
        <td class="code highlight">
          <pre class="php">		<span class="hljs-keyword">if</span> (count(<span class="hljs-keyword">$this</span>-&gt;_field_data) === <span class="hljs-number">0</span>)
		{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-48" id="section-48"></a>
</div>
<p>No validation rules?  We're done...</p>

        </td>
        <td class="code highlight">
          <pre class="php">			<span class="hljs-keyword">if</span> (count(<span class="hljs-keyword">$this</span>-&gt;_config_rules) === <span class="hljs-number">0</span>)
			{
				<span class="hljs-keyword">return</span> <span class="hljs-keyword">FALSE</span>;
			}

			<span class="hljs-keyword">if</span> (<span class="hljs-keyword">empty</span>($group))
			{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-49" id="section-49"></a>
</div>
<p>Is there a validation rule for the particular URI being accessed?</p>

        </td>
        <td class="code highlight">
          <pre class="php">				$group = trim(<span class="hljs-keyword">$this</span>-&gt;CI-&gt;uri-&gt;ruri_string(), <span class="hljs-string">'/'</span>);
				<span class="hljs-keyword">isset</span>(<span class="hljs-keyword">$this</span>-&gt;_config_rules[$group]) <span class="hljs-keyword">OR</span> $group = <span class="hljs-keyword">$this</span>-&gt;CI-&gt;router-&gt;class.<span class="hljs-string">'/'</span>.<span class="hljs-keyword">$this</span>-&gt;CI-&gt;router-&gt;method;
			}

			<span class="hljs-keyword">$this</span>-&gt;set_rules(<span class="hljs-keyword">isset</span>(<span class="hljs-keyword">$this</span>-&gt;_config_rules[$group]) ? <span class="hljs-keyword">$this</span>-&gt;_config_rules[$group] : <span class="hljs-keyword">$this</span>-&gt;_config_rules);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-50" id="section-50"></a>
</div>
<p>Were we able to set the rules correctly?</p>

        </td>
        <td class="code highlight">
          <pre class="php">			<span class="hljs-keyword">if</span> (count(<span class="hljs-keyword">$this</span>-&gt;_field_data) === <span class="hljs-number">0</span>)
			{
				log_message(<span class="hljs-string">'debug'</span>, <span class="hljs-string">'Unable to find validation rules'</span>);
				<span class="hljs-keyword">return</span> <span class="hljs-keyword">FALSE</span>;
			}
		}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-51" id="section-51"></a>
</div>
<p>Load the language file containing error messages</p>

        </td>
        <td class="code highlight">
          <pre class="php">		<span class="hljs-keyword">$this</span>-&gt;CI-&gt;lang-&gt;load(<span class="hljs-string">'form_validation'</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-52" id="section-52"></a>
</div>
<p>Cycle through the rules for each field and match the corresponding $validation_data item</p>

        </td>
        <td class="code highlight">
          <pre class="php">		<span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">$this</span>-&gt;_field_data <span class="hljs-keyword">as</span> $field =&gt; &amp;$row)
		{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-53" id="section-53"></a>
</div>
<p>Fetch the data from the validation_data array item and cache it in the _field_data array.
Depending on whether the field name is an array or a string will determine where we get it from.</p>

        </td>
        <td class="code highlight">
          <pre class="php">			<span class="hljs-keyword">if</span> ($row[<span class="hljs-string">'is_array'</span>] === <span class="hljs-keyword">TRUE</span>)
			{
				<span class="hljs-keyword">$this</span>-&gt;_field_data[$field][<span class="hljs-string">'postdata'</span>] = <span class="hljs-keyword">$this</span>-&gt;_reduce_array($validation_array, $row[<span class="hljs-string">'keys'</span>]);
			}
			<span class="hljs-keyword">elseif</span> (<span class="hljs-keyword">isset</span>($validation_array[$field]))
			{
				<span class="hljs-keyword">$this</span>-&gt;_field_data[$field][<span class="hljs-string">'postdata'</span>] = $validation_array[$field];
			}
		}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-54" id="section-54"></a>
</div>
<p>Execute validation rules
Note: A second foreach (for now) is required in order to avoid false-positives
for rules like 'matches', which correlate to other validation fields.</p>

        </td>
        <td class="code highlight">
          <pre class="php">		<span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">$this</span>-&gt;_field_data <span class="hljs-keyword">as</span> $field =&gt; &amp;$row)
		{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-55" id="section-55"></a>
</div>
<p>Don't try to validate if we have no rules set</p>

        </td>
        <td class="code highlight">
          <pre class="php">			<span class="hljs-keyword">if</span> (<span class="hljs-keyword">empty</span>($row[<span class="hljs-string">'rules'</span>]))
			{
				<span class="hljs-keyword">continue</span>;
			}

			<span class="hljs-keyword">$this</span>-&gt;_execute($row, $row[<span class="hljs-string">'rules'</span>], $row[<span class="hljs-string">'postdata'</span>]);
		}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-56" id="section-56"></a>
</div>
<p>Did we end up with any errors?</p>

        </td>
        <td class="code highlight">
          <pre class="php">		$total_errors = count(<span class="hljs-keyword">$this</span>-&gt;_error_array);
		<span class="hljs-keyword">if</span> ($total_errors &gt; <span class="hljs-number">0</span>)
		{
			<span class="hljs-keyword">$this</span>-&gt;_safe_form_data = <span class="hljs-keyword">TRUE</span>;
		}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-57" id="section-57"></a>
</div>
<p>Now we need to re-set the POST data with the new, processed data</p>

        </td>
        <td class="code highlight">
          <pre class="php">		<span class="hljs-keyword">empty</span>(<span class="hljs-keyword">$this</span>-&gt;validation_data) &amp;&amp; <span class="hljs-keyword">$this</span>-&gt;_reset_post_array();

		<span class="hljs-keyword">return</span> ($total_errors === <span class="hljs-number">0</span>);
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-58" id="section-58"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-59" id="section-59"></a>
</div>
<div class="dox">
<div class="summary">
<p>Prepare rules</p>
</div>
<div class="body">
<p>Re-orders the provided rules in order of importance, so that
they can easily be executed later without weird checks ...</p>
<p>&quot;Callbacks&quot; are given the highest priority (always called),
followed by 'required' (called if callbacks didn't fail),
and then every next rule depends on the previous one passing.</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">array</span>
<span>$rules
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>array
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_prepare_rules</span><span class="hljs-params">($rules)</span>
	</span>{
		$new_rules = <span class="hljs-keyword">array</span>();
		$callbacks = <span class="hljs-keyword">array</span>();

		<span class="hljs-keyword">foreach</span> ($rules <span class="hljs-keyword">as</span> &amp;$rule)
		{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-60" id="section-60"></a>
</div>
<p>Let 'required' always be the first (non-callback) rule</p>

        </td>
        <td class="code highlight">
          <pre class="php">			<span class="hljs-keyword">if</span> ($rule === <span class="hljs-string">'required'</span>)
			{
				array_unshift($new_rules, <span class="hljs-string">'required'</span>);
			}
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-61" id="section-61"></a>
</div>
<p>'isset' is a kind of a weird alias for 'required' ...</p>

        </td>
        <td class="code highlight">
          <pre class="php">			<span class="hljs-keyword">elseif</span> ($rule === <span class="hljs-string">'isset'</span> &amp;&amp; (<span class="hljs-keyword">empty</span>($new_rules) <span class="hljs-keyword">OR</span> $new_rules[<span class="hljs-number">0</span>] !== <span class="hljs-string">'required'</span>))
			{
				array_unshift($new_rules, <span class="hljs-string">'isset'</span>);
			}
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-62" id="section-62"></a>
</div>
<p>The old/classic 'callback_'-prefixed rules</p>

        </td>
        <td class="code highlight">
          <pre class="php">			<span class="hljs-keyword">elseif</span> (is_string($rule) &amp;&amp; strncmp(<span class="hljs-string">'callback_'</span>, $rule, <span class="hljs-number">9</span>) === <span class="hljs-number">0</span>)
			{
				$callbacks[] = $rule;
			}
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-63" id="section-63"></a>
</div>
<p>Proper callables</p>

        </td>
        <td class="code highlight">
          <pre class="php">			<span class="hljs-keyword">elseif</span> (is_callable($rule))
			{
				$callbacks[] = $rule;
			}
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-64" id="section-64"></a>
</div>
<p>&quot;Named&quot; callables; i.e. array('name' =&gt; $callable)</p>

        </td>
        <td class="code highlight">
          <pre class="php">			<span class="hljs-keyword">elseif</span> (is_array($rule) &amp;&amp; <span class="hljs-keyword">isset</span>($rule[<span class="hljs-number">0</span>], $rule[<span class="hljs-number">1</span>]) &amp;&amp; is_callable($rule[<span class="hljs-number">1</span>]))
			{
				$callbacks[] = $rule;
			}
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-65" id="section-65"></a>
</div>
<p>Everything else goes at the end of the queue</p>

        </td>
        <td class="code highlight">
          <pre class="php">			<span class="hljs-keyword">else</span>
			{
				$new_rules[] = $rule;
			}
		}

		<span class="hljs-keyword">return</span> array_merge($callbacks, $new_rules);
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-66" id="section-66"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-67" id="section-67"></a>
</div>
<div class="dox">
<div class="summary">
<p>Traverse a multidimensional $_POST array index until the data is found</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">array</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">array</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">int</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>mixed
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_reduce_array</span><span class="hljs-params">($array, $keys, $i = <span class="hljs-number">0</span>)</span>
	</span>{
		<span class="hljs-keyword">if</span> (is_array($array) &amp;&amp; <span class="hljs-keyword">isset</span>($keys[$i]))
		{
			<span class="hljs-keyword">return</span> <span class="hljs-keyword">isset</span>($array[$keys[$i]]) ? <span class="hljs-keyword">$this</span>-&gt;_reduce_array($array[$keys[$i]], $keys, ($i+<span class="hljs-number">1</span>)) : <span class="hljs-keyword">NULL</span>;
		}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-68" id="section-68"></a>
</div>
<p>NULL must be returned for empty fields</p>

        </td>
        <td class="code highlight">
          <pre class="php">		<span class="hljs-keyword">return</span> ($array === <span class="hljs-string">''</span>) ? <span class="hljs-keyword">NULL</span> : $array;
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-69" id="section-69"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-70" id="section-70"></a>
</div>
<div class="dox">
<div class="summary">
<p>Re-populate the _POST array with our finalized and processed data</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>void
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_reset_post_array</span><span class="hljs-params">()</span>
	</span>{
		<span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">$this</span>-&gt;_field_data <span class="hljs-keyword">as</span> $field =&gt; $row)
		{
			<span class="hljs-keyword">if</span> ($row[<span class="hljs-string">'postdata'</span>] !== <span class="hljs-keyword">NULL</span>)
			{
				<span class="hljs-keyword">if</span> ($row[<span class="hljs-string">'is_array'</span>] === <span class="hljs-keyword">FALSE</span>)
				{
					<span class="hljs-keyword">isset</span>($_POST[$field]) &amp;&amp; $_POST[$field] = is_array($row[<span class="hljs-string">'postdata'</span>]) ? <span class="hljs-keyword">NULL</span> : $row[<span class="hljs-string">'postdata'</span>];
				}
				<span class="hljs-keyword">else</span>
				{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-71" id="section-71"></a>
</div>
<p>start with a reference</p>

        </td>
        <td class="code highlight">
          <pre class="php">					$post_ref =&amp; $_POST;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-72" id="section-72"></a>
</div>
<p>before we assign values, make a reference to the right POST key</p>

        </td>
        <td class="code highlight">
          <pre class="php">					<span class="hljs-keyword">if</span> (count($row[<span class="hljs-string">'keys'</span>]) === <span class="hljs-number">1</span>)
					{
						$post_ref =&amp; $post_ref[current($row[<span class="hljs-string">'keys'</span>])];
					}
					<span class="hljs-keyword">else</span>
					{
						<span class="hljs-keyword">foreach</span> ($row[<span class="hljs-string">'keys'</span>] <span class="hljs-keyword">as</span> $val)
						{
							$post_ref =&amp; $post_ref[$val];
						}
					}

					$post_ref = $row[<span class="hljs-string">'postdata'</span>];
				}
			}
		}
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-73" id="section-73"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-74" id="section-74"></a>
</div>
<div class="dox">
<div class="summary">
<p>Executes the Validation routines</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">array</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">array</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">mixed</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">int</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>mixed
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_execute</span><span class="hljs-params">($row, $rules, $postdata = NULL, $cycles = <span class="hljs-number">0</span>)</span>
	</span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-75" id="section-75"></a>
</div>
<p>If the $_POST data is an array we will run a recursive call</p>
<p>Note: We MUST check if the array is empty or not!
Otherwise empty arrays will always pass validation.</p>

        </td>
        <td class="code highlight">
          <pre class="php">		<span class="hljs-keyword">if</span> (is_array($postdata) &amp;&amp; ! <span class="hljs-keyword">empty</span>($postdata))
		{
			<span class="hljs-keyword">foreach</span> ($postdata <span class="hljs-keyword">as</span> $key =&gt; $val)
			{
				<span class="hljs-keyword">$this</span>-&gt;_execute($row, $rules, $val, $key);
			}

			<span class="hljs-keyword">return</span>;
		}

		$rules = <span class="hljs-keyword">$this</span>-&gt;_prepare_rules($rules);
		<span class="hljs-keyword">foreach</span> ($rules <span class="hljs-keyword">as</span> $rule)
		{
			$_in_array = <span class="hljs-keyword">FALSE</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-76" id="section-76"></a>
</div>
<p>We set the $postdata variable with the current data in our master array so that
each cycle of the loop is dealing with the processed data from the last cycle</p>

        </td>
        <td class="code highlight">
          <pre class="php">			<span class="hljs-keyword">if</span> ($row[<span class="hljs-string">'is_array'</span>] === <span class="hljs-keyword">TRUE</span> &amp;&amp; is_array(<span class="hljs-keyword">$this</span>-&gt;_field_data[$row[<span class="hljs-string">'field'</span>]][<span class="hljs-string">'postdata'</span>]))
			{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-77" id="section-77"></a>
</div>
<p>We shouldn't need this safety, but just in case there isn't an array index
associated with this cycle we'll bail out</p>

        </td>
        <td class="code highlight">
          <pre class="php">				<span class="hljs-keyword">if</span> ( ! <span class="hljs-keyword">isset</span>(<span class="hljs-keyword">$this</span>-&gt;_field_data[$row[<span class="hljs-string">'field'</span>]][<span class="hljs-string">'postdata'</span>][$cycles]))
				{
					<span class="hljs-keyword">continue</span>;
				}

				$postdata = <span class="hljs-keyword">$this</span>-&gt;_field_data[$row[<span class="hljs-string">'field'</span>]][<span class="hljs-string">'postdata'</span>][$cycles];
				$_in_array = <span class="hljs-keyword">TRUE</span>;
			}
			<span class="hljs-keyword">else</span>
			{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-78" id="section-78"></a>
</div>
<p>If we get an array field, but it's not expected - then it is most likely
somebody messing with the form on the client side, so we'll just consider
it an empty field</p>

        </td>
        <td class="code highlight">
          <pre class="php">				$postdata = is_array(<span class="hljs-keyword">$this</span>-&gt;_field_data[$row[<span class="hljs-string">'field'</span>]][<span class="hljs-string">'postdata'</span>])
					? <span class="hljs-keyword">NULL</span>
					: <span class="hljs-keyword">$this</span>-&gt;_field_data[$row[<span class="hljs-string">'field'</span>]][<span class="hljs-string">'postdata'</span>];
			}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-79" id="section-79"></a>
</div>
<p>Is the rule a callback?</p>

        </td>
        <td class="code highlight">
          <pre class="php">			$callback = $callable = <span class="hljs-keyword">FALSE</span>;
			<span class="hljs-keyword">if</span> (is_string($rule))
			{
				<span class="hljs-keyword">if</span> (strpos($rule, <span class="hljs-string">'callback_'</span>) === <span class="hljs-number">0</span>)
				{
					$rule = substr($rule, <span class="hljs-number">9</span>);
					$callback = <span class="hljs-keyword">TRUE</span>;
				}
			}
			<span class="hljs-keyword">elseif</span> (is_callable($rule))
			{
				$callable = <span class="hljs-keyword">TRUE</span>;
			}
			<span class="hljs-keyword">elseif</span> (is_array($rule) &amp;&amp; <span class="hljs-keyword">isset</span>($rule[<span class="hljs-number">0</span>], $rule[<span class="hljs-number">1</span>]) &amp;&amp; is_callable($rule[<span class="hljs-number">1</span>]))
			{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-80" id="section-80"></a>
</div>
<p>We have a &quot;named&quot; callable, so save the name</p>

        </td>
        <td class="code highlight">
          <pre class="php">				$callable = $rule[<span class="hljs-number">0</span>];
				$rule = $rule[<span class="hljs-number">1</span>];
			}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-81" id="section-81"></a>
</div>
<p>Strip the parameter (if exists) from the rule
Rules can contain a parameter: max_length[5]</p>

        </td>
        <td class="code highlight">
          <pre class="php">			$param = <span class="hljs-keyword">FALSE</span>;
			<span class="hljs-keyword">if</span> ( ! $callable &amp;&amp; preg_match(<span class="hljs-string">'/(.*?)\[(.*)\]/'</span>, $rule, $match))
			{
				$rule = $match[<span class="hljs-number">1</span>];
				$param = $match[<span class="hljs-number">2</span>];
			}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-82" id="section-82"></a>
</div>
<p>Ignore empty, non-required inputs with a few exceptions ...</p>

        </td>
        <td class="code highlight">
          <pre class="php">			<span class="hljs-keyword">if</span> (
				($postdata === <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">OR</span> $postdata === <span class="hljs-string">''</span>)
				&amp;&amp; $callback === <span class="hljs-keyword">FALSE</span>
				&amp;&amp; $callable === <span class="hljs-keyword">FALSE</span>
				&amp;&amp; ! in_array($rule, <span class="hljs-keyword">array</span>(<span class="hljs-string">'required'</span>, <span class="hljs-string">'isset'</span>, <span class="hljs-string">'matches'</span>), <span class="hljs-keyword">TRUE</span>)
			)
			{
				<span class="hljs-keyword">continue</span>;
			}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-83" id="section-83"></a>
</div>
<p>Call the function that corresponds to the rule</p>

        </td>
        <td class="code highlight">
          <pre class="php">			<span class="hljs-keyword">if</span> ($callback <span class="hljs-keyword">OR</span> $callable !== <span class="hljs-keyword">FALSE</span>)
			{
				<span class="hljs-keyword">if</span> ($callback)
				{
					<span class="hljs-keyword">if</span> ( ! method_exists(<span class="hljs-keyword">$this</span>-&gt;CI, $rule))
					{
						log_message(<span class="hljs-string">'debug'</span>, <span class="hljs-string">'Unable to find callback validation rule: '</span>.$rule);
						$result = <span class="hljs-keyword">FALSE</span>;
					}
					<span class="hljs-keyword">else</span>
					{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-84" id="section-84"></a>
</div>
<p>Run the function and grab the result</p>

        </td>
        <td class="code highlight">
          <pre class="php">						$result = <span class="hljs-keyword">$this</span>-&gt;CI-&gt;$rule($postdata, $param);
					}
				}
				<span class="hljs-keyword">else</span>
				{
					$result = is_array($rule)
						? $rule[<span class="hljs-number">0</span>]-&gt;{$rule[<span class="hljs-number">1</span>]}($postdata)
						: $rule($postdata);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-85" id="section-85"></a>
</div>
<p>Is $callable set to a rule name?</p>

        </td>
        <td class="code highlight">
          <pre class="php">					<span class="hljs-keyword">if</span> ($callable !== <span class="hljs-keyword">FALSE</span>)
					{
						$rule = $callable;
					}
				}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-86" id="section-86"></a>
</div>
<p>Re-assign the result to the master data array</p>

        </td>
        <td class="code highlight">
          <pre class="php">				<span class="hljs-keyword">if</span> ($_in_array === <span class="hljs-keyword">TRUE</span>)
				{
					<span class="hljs-keyword">$this</span>-&gt;_field_data[$row[<span class="hljs-string">'field'</span>]][<span class="hljs-string">'postdata'</span>][$cycles] = is_bool($result) ? $postdata : $result;
				}
				<span class="hljs-keyword">else</span>
				{
					<span class="hljs-keyword">$this</span>-&gt;_field_data[$row[<span class="hljs-string">'field'</span>]][<span class="hljs-string">'postdata'</span>] = is_bool($result) ? $postdata : $result;
				}
			}
			<span class="hljs-keyword">elseif</span> ( ! method_exists(<span class="hljs-keyword">$this</span>, $rule))
			{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-87" id="section-87"></a>
</div>
<p>If our own wrapper function doesn't exist we see if a native PHP function does.
Users can use any native PHP function call that has one param.</p>

        </td>
        <td class="code highlight">
          <pre class="php">				<span class="hljs-keyword">if</span> (function_exists($rule))
				{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-88" id="section-88"></a>
</div>
<p>Native PHP functions issue warnings if you pass them more parameters than they use</p>

        </td>
        <td class="code highlight">
          <pre class="php">					$result = ($param !== <span class="hljs-keyword">FALSE</span>) ? $rule($postdata, $param) : $rule($postdata);

					<span class="hljs-keyword">if</span> ($_in_array === <span class="hljs-keyword">TRUE</span>)
					{
						<span class="hljs-keyword">$this</span>-&gt;_field_data[$row[<span class="hljs-string">'field'</span>]][<span class="hljs-string">'postdata'</span>][$cycles] = is_bool($result) ? $postdata : $result;
					}
					<span class="hljs-keyword">else</span>
					{
						<span class="hljs-keyword">$this</span>-&gt;_field_data[$row[<span class="hljs-string">'field'</span>]][<span class="hljs-string">'postdata'</span>] = is_bool($result) ? $postdata : $result;
					}
				}
				<span class="hljs-keyword">else</span>
				{
					log_message(<span class="hljs-string">'debug'</span>, <span class="hljs-string">'Unable to find validation rule: '</span>.$rule);
					$result = <span class="hljs-keyword">FALSE</span>;
				}
			}
			<span class="hljs-keyword">else</span>
			{
				$result = <span class="hljs-keyword">$this</span>-&gt;$rule($postdata, $param);

				<span class="hljs-keyword">if</span> ($_in_array === <span class="hljs-keyword">TRUE</span>)
				{
					<span class="hljs-keyword">$this</span>-&gt;_field_data[$row[<span class="hljs-string">'field'</span>]][<span class="hljs-string">'postdata'</span>][$cycles] = is_bool($result) ? $postdata : $result;
				}
				<span class="hljs-keyword">else</span>
				{
					<span class="hljs-keyword">$this</span>-&gt;_field_data[$row[<span class="hljs-string">'field'</span>]][<span class="hljs-string">'postdata'</span>] = is_bool($result) ? $postdata : $result;
				}
			}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-89" id="section-89"></a>
</div>
<p>Did the rule test negatively? If so, grab the error.</p>

        </td>
        <td class="code highlight">
          <pre class="php">			<span class="hljs-keyword">if</span> ($result === <span class="hljs-keyword">FALSE</span>)
			{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-90" id="section-90"></a>
</div>
<p>Callable rules might not have named error messages</p>

        </td>
        <td class="code highlight">
          <pre class="php">				<span class="hljs-keyword">if</span> ( ! is_string($rule))
				{
					$line = <span class="hljs-keyword">$this</span>-&gt;CI-&gt;lang-&gt;line(<span class="hljs-string">'form_validation_error_message_not_set'</span>).<span class="hljs-string">'(Anonymous function)'</span>;
				}
				<span class="hljs-keyword">else</span>
				{
					$line = <span class="hljs-keyword">$this</span>-&gt;_get_error_message($rule, $row[<span class="hljs-string">'field'</span>]);
				}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-91" id="section-91"></a>
</div>
<p>Is the parameter we are inserting into the error message the name
of another field? If so we need to grab its &quot;field label&quot;</p>

        </td>
        <td class="code highlight">
          <pre class="php">				<span class="hljs-keyword">if</span> (<span class="hljs-keyword">isset</span>(<span class="hljs-keyword">$this</span>-&gt;_field_data[$param], <span class="hljs-keyword">$this</span>-&gt;_field_data[$param][<span class="hljs-string">'label'</span>]))
				{
					$param = <span class="hljs-keyword">$this</span>-&gt;_translate_fieldname(<span class="hljs-keyword">$this</span>-&gt;_field_data[$param][<span class="hljs-string">'label'</span>]);
				}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-92" id="section-92"></a>
</div>
<p>Build the error message</p>

        </td>
        <td class="code highlight">
          <pre class="php">				$message = <span class="hljs-keyword">$this</span>-&gt;_build_error_msg($line, <span class="hljs-keyword">$this</span>-&gt;_translate_fieldname($row[<span class="hljs-string">'label'</span>]), $param);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-93" id="section-93"></a>
</div>
<p>Save the error message</p>

        </td>
        <td class="code highlight">
          <pre class="php">				<span class="hljs-keyword">$this</span>-&gt;_field_data[$row[<span class="hljs-string">'field'</span>]][<span class="hljs-string">'error'</span>] = $message;

				<span class="hljs-keyword">if</span> ( ! <span class="hljs-keyword">isset</span>(<span class="hljs-keyword">$this</span>-&gt;_error_array[$row[<span class="hljs-string">'field'</span>]]))
				{
					<span class="hljs-keyword">$this</span>-&gt;_error_array[$row[<span class="hljs-string">'field'</span>]] = $message;
				}

				<span class="hljs-keyword">return</span>;
			}
		}
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-94" id="section-94"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-95" id="section-95"></a>
</div>
<div class="dox">
<div class="summary">
<p>Get the error message for the rule</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
<span>$rule The rule name
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
<span>$field The field name
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>string
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_get_error_message</span><span class="hljs-params">($rule, $field)</span>
	</span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-96" id="section-96"></a>
</div>
<p>check if a custom message is defined through validation config row.</p>

        </td>
        <td class="code highlight">
          <pre class="php">		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">isset</span>(<span class="hljs-keyword">$this</span>-&gt;_field_data[$field][<span class="hljs-string">'errors'</span>][$rule]))
		{
			<span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;_field_data[$field][<span class="hljs-string">'errors'</span>][$rule];
		}
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-97" id="section-97"></a>
</div>
<p>check if a custom message has been set using the set_message() function</p>

        </td>
        <td class="code highlight">
          <pre class="php">		<span class="hljs-keyword">elseif</span> (<span class="hljs-keyword">isset</span>(<span class="hljs-keyword">$this</span>-&gt;_error_messages[$rule]))
		{
			<span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;_error_messages[$rule];
		}
		<span class="hljs-keyword">elseif</span> (<span class="hljs-keyword">FALSE</span> !== ($line = <span class="hljs-keyword">$this</span>-&gt;CI-&gt;lang-&gt;line(<span class="hljs-string">'form_validation_'</span>.$rule)))
		{
			<span class="hljs-keyword">return</span> $line;
		}
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-98" id="section-98"></a>
</div>
<p>DEPRECATED support for non-prefixed keys, lang file again</p>

        </td>
        <td class="code highlight">
          <pre class="php">		<span class="hljs-keyword">elseif</span> (<span class="hljs-keyword">FALSE</span> !== ($line = <span class="hljs-keyword">$this</span>-&gt;CI-&gt;lang-&gt;line($rule, <span class="hljs-keyword">FALSE</span>)))
		{
			<span class="hljs-keyword">return</span> $line;
		}

		<span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;CI-&gt;lang-&gt;line(<span class="hljs-string">'form_validation_error_message_not_set'</span>).<span class="hljs-string">'('</span>.$rule.<span class="hljs-string">')'</span>;
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-99" id="section-99"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-100" id="section-100"></a>
</div>
<div class="dox">
<div class="summary">
<p>Translate a field name</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
<span>the field name
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>string
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_translate_fieldname</span><span class="hljs-params">($fieldname)</span>
	</span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-101" id="section-101"></a>
</div>
<p>Do we need to translate the field name? We look for the prefix 'lang:' to determine this
If we find one, but there's no translation for the string - just return it</p>

        </td>
        <td class="code highlight">
          <pre class="php">		<span class="hljs-keyword">if</span> (sscanf($fieldname, <span class="hljs-string">'lang:%s'</span>, $line) === <span class="hljs-number">1</span> &amp;&amp; <span class="hljs-keyword">FALSE</span> === ($fieldname = <span class="hljs-keyword">$this</span>-&gt;CI-&gt;lang-&gt;line($line, <span class="hljs-keyword">FALSE</span>)))
		{
			<span class="hljs-keyword">return</span> $line;
		}

		<span class="hljs-keyword">return</span> $fieldname;
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-102" id="section-102"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-103" id="section-103"></a>
</div>
<div class="dox">
<div class="summary">
<p>Build an error message using the field and param.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
<span>The error message line
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
<span>A field's human name
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">mixed</span>
<span>A rule's optional parameter
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>string
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_build_error_msg</span><span class="hljs-params">($line, $field = <span class="hljs-string">''</span>, $param = <span class="hljs-string">''</span>)</span>
	</span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-104" id="section-104"></a>
</div>
<p>Check for %s in the string for legacy support.</p>

        </td>
        <td class="code highlight">
          <pre class="php">		<span class="hljs-keyword">if</span> (strpos($line, <span class="hljs-string">'%s'</span>) !== <span class="hljs-keyword">FALSE</span>)
		{
			<span class="hljs-keyword">return</span> sprintf($line, $field, $param);
		}

		<span class="hljs-keyword">return</span> str_replace(<span class="hljs-keyword">array</span>(<span class="hljs-string">'{field}'</span>, <span class="hljs-string">'{param}'</span>), <span class="hljs-keyword">array</span>($field, $param), $line);
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-105" id="section-105"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-106" id="section-106"></a>
</div>
<div class="dox">
<div class="summary">
<p>Checks if the rule is present within the validator</p>
</div>
<div class="body">
<p>Permits you to check if a rule is present within the validator</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
<span>the field name
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>bool
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">has_rule</span><span class="hljs-params">($field)</span>
	</span>{
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">isset</span>(<span class="hljs-keyword">$this</span>-&gt;_field_data[$field]);
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-107" id="section-107"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-108" id="section-108"></a>
</div>
<div class="dox">
<div class="summary">
<p>Get the value from a form</p>
</div>
<div class="body">
<p>Permits you to repopulate a form field with the value it was submitted
with, or, if that value doesn't exist, with the default</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
<span>the field name
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>string
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">set_value</span><span class="hljs-params">($field = <span class="hljs-string">''</span>, $default = <span class="hljs-string">''</span>)</span>
	</span>{
		<span class="hljs-keyword">if</span> ( ! <span class="hljs-keyword">isset</span>(<span class="hljs-keyword">$this</span>-&gt;_field_data[$field], <span class="hljs-keyword">$this</span>-&gt;_field_data[$field][<span class="hljs-string">'postdata'</span>]))
		{
			<span class="hljs-keyword">return</span> $default;
		}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-109" id="section-109"></a>
</div>
<p>If the data is an array output them one at a time.
E.g: form_input('name[]', set_value('name[]');</p>

        </td>
        <td class="code highlight">
          <pre class="php">		<span class="hljs-keyword">if</span> (is_array(<span class="hljs-keyword">$this</span>-&gt;_field_data[$field][<span class="hljs-string">'postdata'</span>]))
		{
			<span class="hljs-keyword">return</span> array_shift(<span class="hljs-keyword">$this</span>-&gt;_field_data[$field][<span class="hljs-string">'postdata'</span>]);
		}

		<span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;_field_data[$field][<span class="hljs-string">'postdata'</span>];
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-110" id="section-110"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-111" id="section-111"></a>
</div>
<div class="dox">
<div class="summary">
<p>Set Select</p>
</div>
<div class="body">
<p>Enables pull-down lists to be set to the value the user
selected in the event of an error</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">bool</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>string
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">set_select</span><span class="hljs-params">($field = <span class="hljs-string">''</span>, $value = <span class="hljs-string">''</span>, $default = FALSE)</span>
	</span>{
		<span class="hljs-keyword">if</span> ( ! <span class="hljs-keyword">isset</span>(<span class="hljs-keyword">$this</span>-&gt;_field_data[$field], <span class="hljs-keyword">$this</span>-&gt;_field_data[$field][<span class="hljs-string">'postdata'</span>]))
		{
			<span class="hljs-keyword">return</span> ($default === <span class="hljs-keyword">TRUE</span> &amp;&amp; count(<span class="hljs-keyword">$this</span>-&gt;_field_data) === <span class="hljs-number">0</span>) ? <span class="hljs-string">' selected="selected"'</span> : <span class="hljs-string">''</span>;
		}

		$field = <span class="hljs-keyword">$this</span>-&gt;_field_data[$field][<span class="hljs-string">'postdata'</span>];
		$value = (string) $value;
		<span class="hljs-keyword">if</span> (is_array($field))
		{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-112" id="section-112"></a>
</div>
<p>Note: in_array('', array(0)) returns TRUE, do not use it</p>

        </td>
        <td class="code highlight">
          <pre class="php">			<span class="hljs-keyword">foreach</span> ($field <span class="hljs-keyword">as</span> &amp;$v)
			{
				<span class="hljs-keyword">if</span> ($value === $v)
				{
					<span class="hljs-keyword">return</span> <span class="hljs-string">' selected="selected"'</span>;
				}
			}

			<span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
		}
		<span class="hljs-keyword">elseif</span> (($field === <span class="hljs-string">''</span> <span class="hljs-keyword">OR</span> $value === <span class="hljs-string">''</span>) <span class="hljs-keyword">OR</span> ($field !== $value))
		{
			<span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
		}

		<span class="hljs-keyword">return</span> <span class="hljs-string">' selected="selected"'</span>;
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-113" id="section-113"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-114" id="section-114"></a>
</div>
<div class="dox">
<div class="summary">
<p>Set Radio</p>
</div>
<div class="body">
<p>Enables radio buttons to be set to the value the user
selected in the event of an error</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">bool</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>string
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">set_radio</span><span class="hljs-params">($field = <span class="hljs-string">''</span>, $value = <span class="hljs-string">''</span>, $default = FALSE)</span>
	</span>{
		<span class="hljs-keyword">if</span> ( ! <span class="hljs-keyword">isset</span>(<span class="hljs-keyword">$this</span>-&gt;_field_data[$field], <span class="hljs-keyword">$this</span>-&gt;_field_data[$field][<span class="hljs-string">'postdata'</span>]))
		{
			<span class="hljs-keyword">return</span> ($default === <span class="hljs-keyword">TRUE</span> &amp;&amp; count(<span class="hljs-keyword">$this</span>-&gt;_field_data) === <span class="hljs-number">0</span>) ? <span class="hljs-string">' checked="checked"'</span> : <span class="hljs-string">''</span>;
		}

		$field = <span class="hljs-keyword">$this</span>-&gt;_field_data[$field][<span class="hljs-string">'postdata'</span>];
		$value = (string) $value;
		<span class="hljs-keyword">if</span> (is_array($field))
		{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-115" id="section-115"></a>
</div>
<p>Note: in_array('', array(0)) returns TRUE, do not use it</p>

        </td>
        <td class="code highlight">
          <pre class="php">			<span class="hljs-keyword">foreach</span> ($field <span class="hljs-keyword">as</span> &amp;$v)
			{
				<span class="hljs-keyword">if</span> ($value === $v)
				{
					<span class="hljs-keyword">return</span> <span class="hljs-string">' checked="checked"'</span>;
				}
			}

			<span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
		}
		<span class="hljs-keyword">elseif</span> (($field === <span class="hljs-string">''</span> <span class="hljs-keyword">OR</span> $value === <span class="hljs-string">''</span>) <span class="hljs-keyword">OR</span> ($field !== $value))
		{
			<span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
		}

		<span class="hljs-keyword">return</span> <span class="hljs-string">' checked="checked"'</span>;
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-116" id="section-116"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-117" id="section-117"></a>
</div>
<div class="dox">
<div class="summary">
<p>Set Checkbox</p>
</div>
<div class="body">
<p>Enables checkboxes to be set to the value the user
selected in the event of an error</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">bool</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>string
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">set_checkbox</span><span class="hljs-params">($field = <span class="hljs-string">''</span>, $value = <span class="hljs-string">''</span>, $default = FALSE)</span>
	</span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-118" id="section-118"></a>
</div>
<p>Logic is exactly the same as for radio fields</p>

        </td>
        <td class="code highlight">
          <pre class="php">		<span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;set_radio($field, $value, $default);
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-119" id="section-119"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-120" id="section-120"></a>
</div>
<div class="dox">
<div class="summary">
<p>Required</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>bool
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">required</span><span class="hljs-params">($str)</span>
	</span>{
		<span class="hljs-keyword">return</span> is_array($str)
			? (<span class="hljs-keyword">empty</span>($str) === <span class="hljs-keyword">FALSE</span>)
			: (trim($str) !== <span class="hljs-string">''</span>);
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-121" id="section-121"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-122" id="section-122"></a>
</div>
<div class="dox">
<div class="summary">
<p>Performs a Regular Expression match test.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
<span>regex
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>bool
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">regex_match</span><span class="hljs-params">($str, $regex)</span>
	</span>{
		<span class="hljs-keyword">return</span> (bool) preg_match($regex, $str);
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-123" id="section-123"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-124" id="section-124"></a>
</div>
<div class="dox">
<div class="summary">
<p>Match one field to another</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
<span>$str string to compare against
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
<span>$field
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>bool
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">matches</span><span class="hljs-params">($str, $field)</span>
	</span>{
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">isset</span>(<span class="hljs-keyword">$this</span>-&gt;_field_data[$field], <span class="hljs-keyword">$this</span>-&gt;_field_data[$field][<span class="hljs-string">'postdata'</span>])
			? ($str === <span class="hljs-keyword">$this</span>-&gt;_field_data[$field][<span class="hljs-string">'postdata'</span>])
			: <span class="hljs-keyword">FALSE</span>;
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-125" id="section-125"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-126" id="section-126"></a>
</div>
<div class="dox">
<div class="summary">
<p>Differs from another field</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
<span>field
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>bool
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">differs</span><span class="hljs-params">($str, $field)</span>
	</span>{
		<span class="hljs-keyword">return</span> ! (<span class="hljs-keyword">isset</span>(<span class="hljs-keyword">$this</span>-&gt;_field_data[$field]) &amp;&amp; <span class="hljs-keyword">$this</span>-&gt;_field_data[$field][<span class="hljs-string">'postdata'</span>] === $str);
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-127" id="section-127"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-128" id="section-128"></a>
</div>
<div class="dox">
<div class="summary">
<p>Is Unique</p>
</div>
<div class="body">
<p>Check if the input value doesn't already exist
in the specified database field.</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
<span>$str
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
<span>$field
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>bool
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">is_unique</span><span class="hljs-params">($str, $field)</span>
	</span>{
		sscanf($field, <span class="hljs-string">'%[^.].%[^.]'</span>, $table, $field);
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">isset</span>(<span class="hljs-keyword">$this</span>-&gt;CI-&gt;db)
			? (<span class="hljs-keyword">$this</span>-&gt;CI-&gt;db-&gt;limit(<span class="hljs-number">1</span>)-&gt;get_where($table, <span class="hljs-keyword">array</span>($field =&gt; $str))-&gt;num_rows() === <span class="hljs-number">0</span>)
			: <span class="hljs-keyword">FALSE</span>;
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-129" id="section-129"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-130" id="section-130"></a>
</div>
<div class="dox">
<div class="summary">
<p>Minimum Length</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>bool
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">min_length</span><span class="hljs-params">($str, $val)</span>
	</span>{
		<span class="hljs-keyword">if</span> ( ! is_numeric($val))
		{
			<span class="hljs-keyword">return</span> <span class="hljs-keyword">FALSE</span>;
		}

		<span class="hljs-keyword">return</span> ($val &lt;= mb_strlen($str));
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-131" id="section-131"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-132" id="section-132"></a>
</div>
<div class="dox">
<div class="summary">
<p>Max Length</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>bool
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">max_length</span><span class="hljs-params">($str, $val)</span>
	</span>{
		<span class="hljs-keyword">if</span> ( ! is_numeric($val))
		{
			<span class="hljs-keyword">return</span> <span class="hljs-keyword">FALSE</span>;
		}

		<span class="hljs-keyword">return</span> ($val &gt;= mb_strlen($str));
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-133" id="section-133"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-134" id="section-134"></a>
</div>
<div class="dox">
<div class="summary">
<p>Exact Length</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>bool
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">exact_length</span><span class="hljs-params">($str, $val)</span>
	</span>{
		<span class="hljs-keyword">if</span> ( ! is_numeric($val))
		{
			<span class="hljs-keyword">return</span> <span class="hljs-keyword">FALSE</span>;
		}

		<span class="hljs-keyword">return</span> (mb_strlen($str) === (int) $val);
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-135" id="section-135"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-136" id="section-136"></a>
</div>
<div class="dox">
<div class="summary">
<p>Valid URL</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
<span>$str
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>bool
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">valid_url</span><span class="hljs-params">($str)</span>
	</span>{
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">empty</span>($str))
		{
			<span class="hljs-keyword">return</span> <span class="hljs-keyword">FALSE</span>;
		}
		<span class="hljs-keyword">elseif</span> (preg_match(<span class="hljs-string">'/^(?:([^:]*)\:)?\/\/(.+)$/'</span>, $str, $matches))
		{
			<span class="hljs-keyword">if</span> (<span class="hljs-keyword">empty</span>($matches[<span class="hljs-number">2</span>]))
			{
				<span class="hljs-keyword">return</span> <span class="hljs-keyword">FALSE</span>;
			}
			<span class="hljs-keyword">elseif</span> ( ! in_array(strtolower($matches[<span class="hljs-number">1</span>]), <span class="hljs-keyword">array</span>(<span class="hljs-string">'http'</span>, <span class="hljs-string">'https'</span>), <span class="hljs-keyword">TRUE</span>))
			{
				<span class="hljs-keyword">return</span> <span class="hljs-keyword">FALSE</span>;
			}

			$str = $matches[<span class="hljs-number">2</span>];
		}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-137" id="section-137"></a>
</div>
<p>Apparently, FILTER_VALIDATE_URL doesn't reject digit-only names for some reason ...
See https://github.com/bcit-ci/CodeIgniter/issues/5755</p>

        </td>
        <td class="code highlight">
          <pre class="php">		<span class="hljs-keyword">if</span> (ctype_digit($str))
		{
			<span class="hljs-keyword">return</span> <span class="hljs-keyword">FALSE</span>;
		}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-138" id="section-138"></a>
</div>
<p>PHP 7 accepts IPv6 addresses within square brackets as hostnames,
but it appears that the PR that came in with https://bugs.php.net/bug.php?id=68039
was never merged into a PHP 5 branch ... https://3v4l.org/8PsSN</p>

        </td>
        <td class="code highlight">
          <pre class="php">		<span class="hljs-keyword">if</span> (preg_match(<span class="hljs-string">'/^\[([^\]]+)\]/'</span>, $str, $matches) &amp;&amp; ! is_php(<span class="hljs-string">'7'</span>) &amp;&amp; filter_var($matches[<span class="hljs-number">1</span>], FILTER_VALIDATE_IP, FILTER_FLAG_IPV6) !== <span class="hljs-keyword">FALSE</span>)
		{
			$str = <span class="hljs-string">'ipv6.host'</span>.substr($str, strlen($matches[<span class="hljs-number">1</span>]) + <span class="hljs-number">2</span>);
		}

		<span class="hljs-keyword">return</span> (filter_var(<span class="hljs-string">'http://'</span>.$str, FILTER_VALIDATE_URL) !== <span class="hljs-keyword">FALSE</span>);
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-139" id="section-139"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-140" id="section-140"></a>
</div>
<div class="dox">
<div class="summary">
<p>Valid Email</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>bool
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">valid_email</span><span class="hljs-params">($str)</span>
	</span>{
		<span class="hljs-keyword">if</span> (function_exists(<span class="hljs-string">'idn_to_ascii'</span>) &amp;&amp; preg_match(<span class="hljs-string">'#\A([^@]+)@(.+)\z#'</span>, $str, $matches))
		{
			$domain = defined(<span class="hljs-string">'INTL_IDNA_VARIANT_UTS46'</span>)
				? idn_to_ascii($matches[<span class="hljs-number">2</span>], <span class="hljs-number">0</span>, INTL_IDNA_VARIANT_UTS46)
				: idn_to_ascii($matches[<span class="hljs-number">2</span>]);

			<span class="hljs-keyword">if</span> ($domain !== <span class="hljs-keyword">FALSE</span>)
			{
				$str = $matches[<span class="hljs-number">1</span>].<span class="hljs-string">'@'</span>.$domain;
			}
		}

		<span class="hljs-keyword">return</span> (bool) filter_var($str, FILTER_VALIDATE_EMAIL);
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-141" id="section-141"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-142" id="section-142"></a>
</div>
<div class="dox">
<div class="summary">
<p>Valid Emails</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>bool
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">valid_emails</span><span class="hljs-params">($str)</span>
	</span>{
		<span class="hljs-keyword">if</span> (strpos($str, <span class="hljs-string">','</span>) === <span class="hljs-keyword">FALSE</span>)
		{
			<span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;valid_email(trim($str));
		}

		<span class="hljs-keyword">foreach</span> (explode(<span class="hljs-string">','</span>, $str) <span class="hljs-keyword">as</span> $email)
		{
			<span class="hljs-keyword">if</span> (trim($email) !== <span class="hljs-string">''</span> &amp;&amp; <span class="hljs-keyword">$this</span>-&gt;valid_email(trim($email)) === <span class="hljs-keyword">FALSE</span>)
			{
				<span class="hljs-keyword">return</span> <span class="hljs-keyword">FALSE</span>;
			}
		}

		<span class="hljs-keyword">return</span> <span class="hljs-keyword">TRUE</span>;
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-143" id="section-143"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-144" id="section-144"></a>
</div>
<div class="dox">
<div class="summary">
<p>Validate IP Address</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
<span>'ipv4' or 'ipv6' to validate a specific IP format
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>bool
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">valid_ip</span><span class="hljs-params">($ip, $which = <span class="hljs-string">''</span>)</span>
	</span>{
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;CI-&gt;input-&gt;valid_ip($ip, $which);
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-145" id="section-145"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-146" id="section-146"></a>
</div>
<div class="dox">
<div class="summary">
<p>Alpha</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>bool
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">alpha</span><span class="hljs-params">($str)</span>
	</span>{
		<span class="hljs-keyword">return</span> ctype_alpha($str);
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-147" id="section-147"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-148" id="section-148"></a>
</div>
<div class="dox">
<div class="summary">
<p>Alpha-numeric</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>bool
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">alpha_numeric</span><span class="hljs-params">($str)</span>
	</span>{
		<span class="hljs-keyword">return</span> ctype_alnum((string) $str);
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-149" id="section-149"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-150" id="section-150"></a>
</div>
<div class="dox">
<div class="summary">
<p>Alpha-numeric w/ spaces</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>bool
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">alpha_numeric_spaces</span><span class="hljs-params">($str)</span>
	</span>{
		<span class="hljs-keyword">return</span> (bool) preg_match(<span class="hljs-string">'/^[A-Z0-9 ]+$/i'</span>, $str);
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-151" id="section-151"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-152" id="section-152"></a>
</div>
<div class="dox">
<div class="summary">
<p>Alpha-numeric with underscores and dashes</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>bool
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">alpha_dash</span><span class="hljs-params">($str)</span>
	</span>{
		<span class="hljs-keyword">return</span> (bool) preg_match(<span class="hljs-string">'/^[a-z0-9_-]+$/i'</span>, $str);
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-153" id="section-153"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-154" id="section-154"></a>
</div>
<div class="dox">
<div class="summary">
<p>Numeric</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>bool
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">numeric</span><span class="hljs-params">($str)</span>
	</span>{
		<span class="hljs-keyword">return</span> (bool) preg_match(<span class="hljs-string">'/^[\-+]?[0-9]*\.?[0-9]+$/'</span>, $str);

	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-155" id="section-155"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-156" id="section-156"></a>
</div>
<div class="dox">
<div class="summary">
<p>Integer</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>bool
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">integer</span><span class="hljs-params">($str)</span>
	</span>{
		<span class="hljs-keyword">return</span> (bool) preg_match(<span class="hljs-string">'/^[\-+]?[0-9]+$/'</span>, $str);
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-157" id="section-157"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-158" id="section-158"></a>
</div>
<div class="dox">
<div class="summary">
<p>Decimal number</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>bool
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">decimal</span><span class="hljs-params">($str)</span>
	</span>{
		<span class="hljs-keyword">return</span> (bool) preg_match(<span class="hljs-string">'/^[\-+]?[0-9]+\.[0-9]+$/'</span>, $str);
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-159" id="section-159"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-160" id="section-160"></a>
</div>
<div class="dox">
<div class="summary">
<p>Greater than</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">int</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>bool
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">greater_than</span><span class="hljs-params">($str, $min)</span>
	</span>{
		<span class="hljs-keyword">return</span> is_numeric($str) ? ($str &gt; $min) : <span class="hljs-keyword">FALSE</span>;
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-161" id="section-161"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-162" id="section-162"></a>
</div>
<div class="dox">
<div class="summary">
<p>Equal to or Greater than</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">int</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>bool
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">greater_than_equal_to</span><span class="hljs-params">($str, $min)</span>
	</span>{
		<span class="hljs-keyword">return</span> is_numeric($str) ? ($str &gt;= $min) : <span class="hljs-keyword">FALSE</span>;
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-163" id="section-163"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-164" id="section-164"></a>
</div>
<div class="dox">
<div class="summary">
<p>Less than</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">int</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>bool
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">less_than</span><span class="hljs-params">($str, $max)</span>
	</span>{
		<span class="hljs-keyword">return</span> is_numeric($str) ? ($str &lt; $max) : <span class="hljs-keyword">FALSE</span>;
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-165" id="section-165"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-166" id="section-166"></a>
</div>
<div class="dox">
<div class="summary">
<p>Equal to or Less than</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">int</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>bool
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">less_than_equal_to</span><span class="hljs-params">($str, $max)</span>
	</span>{
		<span class="hljs-keyword">return</span> is_numeric($str) ? ($str &lt;= $max) : <span class="hljs-keyword">FALSE</span>;
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-167" id="section-167"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-168" id="section-168"></a>
</div>
<div class="dox">
<div class="summary">
<p>Value should be within an array of values</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>bool
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">in_list</span><span class="hljs-params">($value, $list)</span>
	</span>{
		<span class="hljs-keyword">return</span> in_array($value, explode(<span class="hljs-string">','</span>, $list), <span class="hljs-keyword">TRUE</span>);
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-169" id="section-169"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-170" id="section-170"></a>
</div>
<div class="dox">
<div class="summary">
<p>Is a Natural number  (0,1,2,3, etc.)</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>bool
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">is_natural</span><span class="hljs-params">($str)</span>
	</span>{
		<span class="hljs-keyword">return</span> ctype_digit((string) $str);
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-171" id="section-171"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-172" id="section-172"></a>
</div>
<div class="dox">
<div class="summary">
<p>Is a Natural number, but not a zero  (1,2,3, etc.)</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>bool
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">is_natural_no_zero</span><span class="hljs-params">($str)</span>
	</span>{
		<span class="hljs-keyword">return</span> ($str != <span class="hljs-number">0</span> &amp;&amp; ctype_digit((string) $str));
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-173" id="section-173"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-174" id="section-174"></a>
</div>
<div class="dox">
<div class="summary">
<p>Valid Base64</p>
</div>
<div class="body">
<p>Tests a string for characters outside of the Base64 alphabet
as defined by RFC 2045 http://www.faqs.org/rfcs/rfc2045</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>bool
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">valid_base64</span><span class="hljs-params">($str)</span>
	</span>{
		<span class="hljs-keyword">return</span> (base64_encode(base64_decode($str)) === $str);
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-175" id="section-175"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-176" id="section-176"></a>
</div>
<div class="dox">
<div class="summary">
<p>Prep data for form</p>
</div>
<div class="body">
<p>This function allows HTML to be safely shown in a form.
Special characters are converted.</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">mixed</span>
<span>$data Input data
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>mixed
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">prep_for_form</span><span class="hljs-params">($data)</span>
	</span>{
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">$this</span>-&gt;_safe_form_data === <span class="hljs-keyword">FALSE</span> <span class="hljs-keyword">OR</span> <span class="hljs-keyword">empty</span>($data))
		{
			<span class="hljs-keyword">return</span> $data;
		}

		<span class="hljs-keyword">if</span> (is_array($data))
		{
			<span class="hljs-keyword">foreach</span> ($data <span class="hljs-keyword">as</span> $key =&gt; $val)
			{
				$data[$key] = <span class="hljs-keyword">$this</span>-&gt;prep_for_form($val);
			}

			<span class="hljs-keyword">return</span> $data;
		}

		<span class="hljs-keyword">return</span> str_replace(<span class="hljs-keyword">array</span>(<span class="hljs-string">"'"</span>, <span class="hljs-string">'"'</span>, <span class="hljs-string">'&lt;'</span>, <span class="hljs-string">'&gt;'</span>), <span class="hljs-keyword">array</span>(<span class="hljs-string">'&amp;#39;'</span>, <span class="hljs-string">'&amp;quot;'</span>, <span class="hljs-string">'&amp;lt;'</span>, <span class="hljs-string">'&amp;gt;'</span>), stripslashes($data));
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-177" id="section-177"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-178" id="section-178"></a>
</div>
<div class="dox">
<div class="summary">
<p>Prep URL</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>string
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">prep_url</span><span class="hljs-params">($str = <span class="hljs-string">''</span>)</span>
	</span>{
		<span class="hljs-keyword">if</span> ($str === <span class="hljs-string">'http://'</span> <span class="hljs-keyword">OR</span> $str === <span class="hljs-string">''</span>)
		{
			<span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
		}

		<span class="hljs-keyword">if</span> (strpos($str, <span class="hljs-string">'http://'</span>) !== <span class="hljs-number">0</span> &amp;&amp; strpos($str, <span class="hljs-string">'https://'</span>) !== <span class="hljs-number">0</span>)
		{
			<span class="hljs-keyword">return</span> <span class="hljs-string">'http://'</span>.$str;
		}

		<span class="hljs-keyword">return</span> $str;
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-179" id="section-179"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-180" id="section-180"></a>
</div>
<div class="dox">
<div class="summary">
<p>Strip Image Tags</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>string
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">strip_image_tags</span><span class="hljs-params">($str)</span>
	</span>{
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;CI-&gt;security-&gt;strip_image_tags($str);
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-181" id="section-181"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-182" id="section-182"></a>
</div>
<div class="dox">
<div class="summary">
<p>Convert PHP tags to entities</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>string
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">encode_php_tags</span><span class="hljs-params">($str)</span>
	</span>{
		<span class="hljs-keyword">return</span> str_replace(<span class="hljs-keyword">array</span>(<span class="hljs-string">'&lt;?'</span>, <span class="hljs-string">'?&gt;'</span>), <span class="hljs-keyword">array</span>(<span class="hljs-string">'&amp;lt;?'</span>, <span class="hljs-string">'?&amp;gt;'</span>), $str);
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-183" id="section-183"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-184" id="section-184"></a>
</div>
<div class="dox">
<div class="summary">
<p>Reset validation vars</p>
</div>
<div class="body">
<p>Prevents subsequent validation routines from being affected by the
results of any previous validation routine due to the CI singleton.</p>
</div>
<div class="details">
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>CI_Form_validation
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">reset_validation</span><span class="hljs-params">()</span>
	</span>{
		<span class="hljs-keyword">$this</span>-&gt;_field_data = <span class="hljs-keyword">array</span>();
		<span class="hljs-keyword">$this</span>-&gt;_error_array = <span class="hljs-keyword">array</span>();
		<span class="hljs-keyword">$this</span>-&gt;_error_messages = <span class="hljs-keyword">array</span>();
		<span class="hljs-keyword">$this</span>-&gt;error_string = <span class="hljs-string">''</span>;
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>;
	}

}

</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
