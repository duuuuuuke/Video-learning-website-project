<!DOCTYPE html>
<html>
<head>
  <title>Session.php</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../../../../doc-style.css" />
  <script src="../../../../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../../../../";
    var thisFile = "src\\myapp\\system\\libraries\\Session\\Session.php";
    var defaultSidebar = true;
  </script>
  <script src="../../../../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
      <tr>
        <td class="docs">
          <h1>Session.php</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1"></a>
</div>

        </td>
        <td class="code highlight">
          <pre class="php"><span class="hljs-meta">&lt;?php</span>
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2"></a>
</div>
<div class="dox">
<div class="summary">
<p>CodeIgniter</p>
</div>
<div class="body">
<p>An open source application development framework for PHP</p>
<p>This content is released under the MIT License (MIT)</p>
<p>Copyright (c) 2014 - 2019, British Columbia Institute of Technology</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the &quot;Software&quot;), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.</p>
</div>
<div class="details">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">defined(<span class="hljs-string">'BASEPATH'</span>) <span class="hljs-keyword">OR</span> <span class="hljs-keyword">exit</span>(<span class="hljs-string">'No direct script access allowed'</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3"></a>
</div>
<div class="dox">
<div class="summary">
<p>CodeIgniter Session Class</p>
</div>
<div class="body">
</div>
<div class="details">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CI_Session</span> </span>{

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4"></a>
</div>
<div class="dox">
<div class="summary">
<p>Userdata array</p>
</div>
<div class="body">
<p>Just a reference to $_SESSION, for BC purposes.</p>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> $userdata;

	<span class="hljs-keyword">protected</span> $_driver = <span class="hljs-string">'files'</span>;
	<span class="hljs-keyword">protected</span> $_config;
	<span class="hljs-keyword">protected</span> $_sid_regexp;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6"></a>
</div>
<div class="dox">
<div class="summary">
<p>Class constructor</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">array</span>
<span>$params Configuration parameters
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>void
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">(array $params = array<span class="hljs-params">()</span>)</span>
	</span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7"></a>
</div>
<p>No sessions under CLI</p>

        </td>
        <td class="code highlight">
          <pre class="php">		<span class="hljs-keyword">if</span> (is_cli())
		{
			log_message(<span class="hljs-string">'debug'</span>, <span class="hljs-string">'Session: Initialization under CLI aborted.'</span>);
			<span class="hljs-keyword">return</span>;
		}
		<span class="hljs-keyword">elseif</span> ((bool) ini_get(<span class="hljs-string">'session.auto_start'</span>))
		{
			log_message(<span class="hljs-string">'error'</span>, <span class="hljs-string">'Session: session.auto_start is enabled in php.ini. Aborting.'</span>);
			<span class="hljs-keyword">return</span>;
		}
		<span class="hljs-keyword">elseif</span> ( ! <span class="hljs-keyword">empty</span>($params[<span class="hljs-string">'driver'</span>]))
		{
			<span class="hljs-keyword">$this</span>-&gt;_driver = $params[<span class="hljs-string">'driver'</span>];
			<span class="hljs-keyword">unset</span>($params[<span class="hljs-string">'driver'</span>]);
		}
		<span class="hljs-keyword">elseif</span> ($driver = config_item(<span class="hljs-string">'sess_driver'</span>))
		{
			<span class="hljs-keyword">$this</span>-&gt;_driver = $driver;
		}
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-8" id="section-8"></a>
</div>
<p>Note: BC workaround</p>

        </td>
        <td class="code highlight">
          <pre class="php">		<span class="hljs-keyword">elseif</span> (config_item(<span class="hljs-string">'sess_use_database'</span>))
		{
			log_message(<span class="hljs-string">'debug'</span>, <span class="hljs-string">'Session: "sess_driver" is empty; using BC fallback to "sess_use_database".'</span>);
			<span class="hljs-keyword">$this</span>-&gt;_driver = <span class="hljs-string">'database'</span>;
		}

		$class = <span class="hljs-keyword">$this</span>-&gt;_ci_load_classes(<span class="hljs-keyword">$this</span>-&gt;_driver);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-9" id="section-9"></a>
</div>
<p>Configuration ...</p>

        </td>
        <td class="code highlight">
          <pre class="php">		<span class="hljs-keyword">$this</span>-&gt;_configure($params);
		<span class="hljs-keyword">$this</span>-&gt;_config[<span class="hljs-string">'_sid_regexp'</span>] = <span class="hljs-keyword">$this</span>-&gt;_sid_regexp;

		$class = <span class="hljs-keyword">new</span> $class(<span class="hljs-keyword">$this</span>-&gt;_config);
		<span class="hljs-keyword">if</span> ($class <span class="hljs-keyword">instanceof</span> SessionHandlerInterface)
		{
			<span class="hljs-keyword">if</span> (is_php(<span class="hljs-string">'5.4'</span>))
			{
				session_set_save_handler($class, <span class="hljs-keyword">TRUE</span>);
			}
			<span class="hljs-keyword">else</span>
			{
				session_set_save_handler(
					<span class="hljs-keyword">array</span>($class, <span class="hljs-string">'open'</span>),
					<span class="hljs-keyword">array</span>($class, <span class="hljs-string">'close'</span>),
					<span class="hljs-keyword">array</span>($class, <span class="hljs-string">'read'</span>),
					<span class="hljs-keyword">array</span>($class, <span class="hljs-string">'write'</span>),
					<span class="hljs-keyword">array</span>($class, <span class="hljs-string">'destroy'</span>),
					<span class="hljs-keyword">array</span>($class, <span class="hljs-string">'gc'</span>)
				);

				register_shutdown_function(<span class="hljs-string">'session_write_close'</span>);
			}
		}
		<span class="hljs-keyword">else</span>
		{
			log_message(<span class="hljs-string">'error'</span>, <span class="hljs-string">"Session: Driver '"</span>.<span class="hljs-keyword">$this</span>-&gt;_driver.<span class="hljs-string">"' doesn't implement SessionHandlerInterface. Aborting."</span>);
			<span class="hljs-keyword">return</span>;
		}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-10" id="section-10"></a>
</div>
<p>Sanitize the cookie, because apparently PHP doesn't do that for userspace handlers</p>

        </td>
        <td class="code highlight">
          <pre class="php">		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">isset</span>($_COOKIE[<span class="hljs-keyword">$this</span>-&gt;_config[<span class="hljs-string">'cookie_name'</span>]])
			&amp;&amp; (
				! is_string($_COOKIE[<span class="hljs-keyword">$this</span>-&gt;_config[<span class="hljs-string">'cookie_name'</span>]])
				<span class="hljs-keyword">OR</span> ! preg_match(<span class="hljs-string">'#\A'</span>.<span class="hljs-keyword">$this</span>-&gt;_sid_regexp.<span class="hljs-string">'\z#'</span>, $_COOKIE[<span class="hljs-keyword">$this</span>-&gt;_config[<span class="hljs-string">'cookie_name'</span>]])
			)
		)
		{
			<span class="hljs-keyword">unset</span>($_COOKIE[<span class="hljs-keyword">$this</span>-&gt;_config[<span class="hljs-string">'cookie_name'</span>]]);
		}

		session_start();

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-11" id="section-11"></a>
</div>
<p>Is session ID auto-regeneration configured? (ignoring ajax requests)</p>

        </td>
        <td class="code highlight">
          <pre class="php">		<span class="hljs-keyword">if</span> ((<span class="hljs-keyword">empty</span>($_SERVER[<span class="hljs-string">'HTTP_X_REQUESTED_WITH'</span>]) <span class="hljs-keyword">OR</span> strtolower($_SERVER[<span class="hljs-string">'HTTP_X_REQUESTED_WITH'</span>]) !== <span class="hljs-string">'xmlhttprequest'</span>)
			&amp;&amp; ($regenerate_time = config_item(<span class="hljs-string">'sess_time_to_update'</span>)) &gt; <span class="hljs-number">0</span>
		)
		{
			<span class="hljs-keyword">if</span> ( ! <span class="hljs-keyword">isset</span>($_SESSION[<span class="hljs-string">'__ci_last_regenerate'</span>]))
			{
				$_SESSION[<span class="hljs-string">'__ci_last_regenerate'</span>] = time();
			}
			<span class="hljs-keyword">elseif</span> ($_SESSION[<span class="hljs-string">'__ci_last_regenerate'</span>] &lt; (time() - $regenerate_time))
			{
				<span class="hljs-keyword">$this</span>-&gt;sess_regenerate((bool) config_item(<span class="hljs-string">'sess_regenerate_destroy'</span>));
			}
		}
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-12" id="section-12"></a>
</div>
<p>Another work-around ... PHP doesn't seem to send the session cookie
unless it is being currently created or regenerated</p>

        </td>
        <td class="code highlight">
          <pre class="php">		<span class="hljs-keyword">elseif</span> (<span class="hljs-keyword">isset</span>($_COOKIE[<span class="hljs-keyword">$this</span>-&gt;_config[<span class="hljs-string">'cookie_name'</span>]]) &amp;&amp; $_COOKIE[<span class="hljs-keyword">$this</span>-&gt;_config[<span class="hljs-string">'cookie_name'</span>]] === session_id())
		{
			setcookie(
				<span class="hljs-keyword">$this</span>-&gt;_config[<span class="hljs-string">'cookie_name'</span>],
				session_id(),
				(<span class="hljs-keyword">empty</span>(<span class="hljs-keyword">$this</span>-&gt;_config[<span class="hljs-string">'cookie_lifetime'</span>]) ? <span class="hljs-number">0</span> : time() + <span class="hljs-keyword">$this</span>-&gt;_config[<span class="hljs-string">'cookie_lifetime'</span>]),
				<span class="hljs-keyword">$this</span>-&gt;_config[<span class="hljs-string">'cookie_path'</span>],
				<span class="hljs-keyword">$this</span>-&gt;_config[<span class="hljs-string">'cookie_domain'</span>],
				<span class="hljs-keyword">$this</span>-&gt;_config[<span class="hljs-string">'cookie_secure'</span>],
				<span class="hljs-keyword">TRUE</span>
			);
		}

		<span class="hljs-keyword">$this</span>-&gt;_ci_init_vars();

		log_message(<span class="hljs-string">'info'</span>, <span class="hljs-string">"Session: Class initialized using '"</span>.<span class="hljs-keyword">$this</span>-&gt;_driver.<span class="hljs-string">"' driver."</span>);
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-13" id="section-13"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-14" id="section-14"></a>
</div>
<div class="dox">
<div class="summary">
<p>CI Load Classes</p>
</div>
<div class="body">
<p>An internal method to load all possible dependency and extension
classes. It kind of emulates the CI_Driver library, but is
self-sufficient.</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
<span>$driver Driver name
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>string Driver class name
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_ci_load_classes</span><span class="hljs-params">($driver)</span>
	</span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-15" id="section-15"></a>
</div>
<p>PHP 5.4 compatibility</p>

        </td>
        <td class="code highlight">
          <pre class="php">		interface_exists(<span class="hljs-string">'SessionHandlerInterface'</span>, <span class="hljs-keyword">FALSE</span>) <span class="hljs-keyword">OR</span> <span class="hljs-keyword">require_once</span>(BASEPATH.<span class="hljs-string">'libraries/Session/SessionHandlerInterface.php'</span>);

		$prefix = config_item(<span class="hljs-string">'subclass_prefix'</span>);

		<span class="hljs-keyword">if</span> ( ! class_exists(<span class="hljs-string">'CI_Session_driver'</span>, <span class="hljs-keyword">FALSE</span>))
		{
			<span class="hljs-keyword">require_once</span>(
				file_exists(APPPATH.<span class="hljs-string">'libraries/Session/Session_driver.php'</span>)
					? APPPATH.<span class="hljs-string">'libraries/Session/Session_driver.php'</span>
					: BASEPATH.<span class="hljs-string">'libraries/Session/Session_driver.php'</span>
			);

			<span class="hljs-keyword">if</span> (file_exists($file_path = APPPATH.<span class="hljs-string">'libraries/Session/'</span>.$prefix.<span class="hljs-string">'Session_driver.php'</span>))
			{
				<span class="hljs-keyword">require_once</span>($file_path);
			}
		}

		$class = <span class="hljs-string">'Session_'</span>.$driver.<span class="hljs-string">'_driver'</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-16" id="section-16"></a>
</div>
<p>Allow custom drivers without the CI_ or MY_ prefix</p>

        </td>
        <td class="code highlight">
          <pre class="php">		<span class="hljs-keyword">if</span> ( ! class_exists($class, <span class="hljs-keyword">FALSE</span>) &amp;&amp; file_exists($file_path = APPPATH.<span class="hljs-string">'libraries/Session/drivers/'</span>.$class.<span class="hljs-string">'.php'</span>))
		{
			<span class="hljs-keyword">require_once</span>($file_path);
			<span class="hljs-keyword">if</span> (class_exists($class, <span class="hljs-keyword">FALSE</span>))
			{
				<span class="hljs-keyword">return</span> $class;
			}
		}

		<span class="hljs-keyword">if</span> ( ! class_exists(<span class="hljs-string">'CI_'</span>.$class, <span class="hljs-keyword">FALSE</span>))
		{
			<span class="hljs-keyword">if</span> (file_exists($file_path = APPPATH.<span class="hljs-string">'libraries/Session/drivers/'</span>.$class.<span class="hljs-string">'.php'</span>) <span class="hljs-keyword">OR</span> file_exists($file_path = BASEPATH.<span class="hljs-string">'libraries/Session/drivers/'</span>.$class.<span class="hljs-string">'.php'</span>))
			{
				<span class="hljs-keyword">require_once</span>($file_path);
			}

			<span class="hljs-keyword">if</span> ( ! class_exists(<span class="hljs-string">'CI_'</span>.$class, <span class="hljs-keyword">FALSE</span>) &amp;&amp; ! class_exists($class, <span class="hljs-keyword">FALSE</span>))
			{
				<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> UnexpectedValueException(<span class="hljs-string">"Session: Configured driver '"</span>.$driver.<span class="hljs-string">"' was not found. Aborting."</span>);
			}
		}

		<span class="hljs-keyword">if</span> ( ! class_exists($prefix.$class, <span class="hljs-keyword">FALSE</span>) &amp;&amp; file_exists($file_path = APPPATH.<span class="hljs-string">'libraries/Session/drivers/'</span>.$prefix.$class.<span class="hljs-string">'.php'</span>))
		{
			<span class="hljs-keyword">require_once</span>($file_path);
			<span class="hljs-keyword">if</span> (class_exists($prefix.$class, <span class="hljs-keyword">FALSE</span>))
			{
				<span class="hljs-keyword">return</span> $prefix.$class;
			}

			log_message(<span class="hljs-string">'debug'</span>, <span class="hljs-string">'Session: '</span>.$prefix.$class.<span class="hljs-string">".php found but it doesn't declare class "</span>.$prefix.$class.<span class="hljs-string">'.'</span>);
		}

		<span class="hljs-keyword">return</span> <span class="hljs-string">'CI_'</span>.$class;
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-17" id="section-17"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-18" id="section-18"></a>
</div>
<div class="dox">
<div class="summary">
<p>Configuration</p>
</div>
<div class="body">
<p>Handle input parameters and configuration defaults</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">array</span>
<span>&amp;$params Input parameters
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>void
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_configure</span><span class="hljs-params">(&amp;$params)</span>
	</span>{
		$expiration = config_item(<span class="hljs-string">'sess_expiration'</span>);

		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">isset</span>($params[<span class="hljs-string">'cookie_lifetime'</span>]))
		{
			$params[<span class="hljs-string">'cookie_lifetime'</span>] = (int) $params[<span class="hljs-string">'cookie_lifetime'</span>];
		}
		<span class="hljs-keyword">else</span>
		{
			$params[<span class="hljs-string">'cookie_lifetime'</span>] = ( ! <span class="hljs-keyword">isset</span>($expiration) &amp;&amp; config_item(<span class="hljs-string">'sess_expire_on_close'</span>))
				? <span class="hljs-number">0</span> : (int) $expiration;
		}

		<span class="hljs-keyword">isset</span>($params[<span class="hljs-string">'cookie_name'</span>]) <span class="hljs-keyword">OR</span> $params[<span class="hljs-string">'cookie_name'</span>] = config_item(<span class="hljs-string">'sess_cookie_name'</span>);
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">empty</span>($params[<span class="hljs-string">'cookie_name'</span>]))
		{
			$params[<span class="hljs-string">'cookie_name'</span>] = ini_get(<span class="hljs-string">'session.name'</span>);
		}
		<span class="hljs-keyword">else</span>
		{
			ini_set(<span class="hljs-string">'session.name'</span>, $params[<span class="hljs-string">'cookie_name'</span>]);
		}

		<span class="hljs-keyword">isset</span>($params[<span class="hljs-string">'cookie_path'</span>]) <span class="hljs-keyword">OR</span> $params[<span class="hljs-string">'cookie_path'</span>] = config_item(<span class="hljs-string">'cookie_path'</span>);
		<span class="hljs-keyword">isset</span>($params[<span class="hljs-string">'cookie_domain'</span>]) <span class="hljs-keyword">OR</span> $params[<span class="hljs-string">'cookie_domain'</span>] = config_item(<span class="hljs-string">'cookie_domain'</span>);
		<span class="hljs-keyword">isset</span>($params[<span class="hljs-string">'cookie_secure'</span>]) <span class="hljs-keyword">OR</span> $params[<span class="hljs-string">'cookie_secure'</span>] = (bool) config_item(<span class="hljs-string">'cookie_secure'</span>);

		session_set_cookie_params(
			$params[<span class="hljs-string">'cookie_lifetime'</span>],
			$params[<span class="hljs-string">'cookie_path'</span>],
			$params[<span class="hljs-string">'cookie_domain'</span>],
			$params[<span class="hljs-string">'cookie_secure'</span>],
			<span class="hljs-keyword">TRUE</span> <span class="hljs-comment">// HttpOnly; Yes, this is intentional and not configurable for security reasons</span>
		);

		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">empty</span>($expiration))
		{
			$params[<span class="hljs-string">'expiration'</span>] = (int) ini_get(<span class="hljs-string">'session.gc_maxlifetime'</span>);
		}
		<span class="hljs-keyword">else</span>
		{
			$params[<span class="hljs-string">'expiration'</span>] = (int) $expiration;
			ini_set(<span class="hljs-string">'session.gc_maxlifetime'</span>, $expiration);
		}

		$params[<span class="hljs-string">'match_ip'</span>] = (bool) (<span class="hljs-keyword">isset</span>($params[<span class="hljs-string">'match_ip'</span>]) ? $params[<span class="hljs-string">'match_ip'</span>] : config_item(<span class="hljs-string">'sess_match_ip'</span>));

		<span class="hljs-keyword">isset</span>($params[<span class="hljs-string">'save_path'</span>]) <span class="hljs-keyword">OR</span> $params[<span class="hljs-string">'save_path'</span>] = config_item(<span class="hljs-string">'sess_save_path'</span>);

		<span class="hljs-keyword">$this</span>-&gt;_config = $params;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-19" id="section-19"></a>
</div>
<p>Security is king</p>

        </td>
        <td class="code highlight">
          <pre class="php">		ini_set(<span class="hljs-string">'session.use_trans_sid'</span>, <span class="hljs-number">0</span>);
		ini_set(<span class="hljs-string">'session.use_strict_mode'</span>, <span class="hljs-number">1</span>);
		ini_set(<span class="hljs-string">'session.use_cookies'</span>, <span class="hljs-number">1</span>);
		ini_set(<span class="hljs-string">'session.use_only_cookies'</span>, <span class="hljs-number">1</span>);

		<span class="hljs-keyword">$this</span>-&gt;_configure_sid_length();
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-20" id="section-20"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-21" id="section-21"></a>
</div>
<div class="dox">
<div class="summary">
<p>Configure session ID length</p>
</div>
<div class="body">
<p>To make life easier, we used to force SHA-1 and 4 bits per
character on everyone. And of course, someone was unhappy.</p>
<p>Then PHP 7.1 broke backwards-compatibility because ext/session
is such a mess that nobody wants to touch it with a pole stick,
and the one guy who does, nobody has the energy to argue with.</p>
<p>So we were forced to make changes, and OF COURSE something was
going to break and now we have this pile of shit. -- Narf</p>
</div>
<div class="details">
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>void
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_configure_sid_length</span><span class="hljs-params">()</span>
	</span>{
		<span class="hljs-keyword">if</span> (PHP_VERSION_ID &lt; <span class="hljs-number">70100</span>)
		{
			$hash_function = ini_get(<span class="hljs-string">'session.hash_function'</span>);
			<span class="hljs-keyword">if</span> (ctype_digit($hash_function))
			{
				<span class="hljs-keyword">if</span> ($hash_function !== <span class="hljs-string">'1'</span>)
				{
					ini_set(<span class="hljs-string">'session.hash_function'</span>, <span class="hljs-number">1</span>);
				}

				$bits = <span class="hljs-number">160</span>;
			}
			<span class="hljs-keyword">elseif</span> ( ! in_array($hash_function, hash_algos(), <span class="hljs-keyword">TRUE</span>))
			{
				ini_set(<span class="hljs-string">'session.hash_function'</span>, <span class="hljs-number">1</span>);
				$bits = <span class="hljs-number">160</span>;
			}
			<span class="hljs-keyword">elseif</span> (($bits = strlen(hash($hash_function, <span class="hljs-string">'dummy'</span>, <span class="hljs-keyword">false</span>)) * <span class="hljs-number">4</span>) &lt; <span class="hljs-number">160</span>)
			{
				ini_set(<span class="hljs-string">'session.hash_function'</span>, <span class="hljs-number">1</span>);
				$bits = <span class="hljs-number">160</span>;
			}

			$bits_per_character = (int) ini_get(<span class="hljs-string">'session.hash_bits_per_character'</span>);
			$sid_length         = (int) ceil($bits / $bits_per_character);
		}
		<span class="hljs-keyword">else</span>
		{
			$bits_per_character = (int) ini_get(<span class="hljs-string">'session.sid_bits_per_character'</span>);
			$sid_length         = (int) ini_get(<span class="hljs-string">'session.sid_length'</span>);
			<span class="hljs-keyword">if</span> (($bits = $sid_length * $bits_per_character) &lt; <span class="hljs-number">160</span>)
			{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-22" id="section-22"></a>
</div>
<p>Add as many more characters as necessary to reach at least 160 bits</p>

        </td>
        <td class="code highlight">
          <pre class="php">				$sid_length += (int) ceil((<span class="hljs-number">160</span> % $bits) / $bits_per_character);
				ini_set(<span class="hljs-string">'session.sid_length'</span>, $sid_length);
			}
		}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-23" id="section-23"></a>
</div>
<p>Yes, 4,5,6 are the only known possible values as of 2016-10-27</p>

        </td>
        <td class="code highlight">
          <pre class="php">		<span class="hljs-keyword">switch</span> ($bits_per_character)
		{
			<span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:
				<span class="hljs-keyword">$this</span>-&gt;_sid_regexp = <span class="hljs-string">'[0-9a-f]'</span>;
				<span class="hljs-keyword">break</span>;
			<span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:
				<span class="hljs-keyword">$this</span>-&gt;_sid_regexp = <span class="hljs-string">'[0-9a-v]'</span>;
				<span class="hljs-keyword">break</span>;
			<span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:
				<span class="hljs-keyword">$this</span>-&gt;_sid_regexp = <span class="hljs-string">'[0-9a-zA-Z,-]'</span>;
				<span class="hljs-keyword">break</span>;
		}

		<span class="hljs-keyword">$this</span>-&gt;_sid_regexp .= <span class="hljs-string">'{'</span>.$sid_length.<span class="hljs-string">'}'</span>;
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-24" id="section-24"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-25" id="section-25"></a>
</div>
<div class="dox">
<div class="summary">
<p>Handle temporary variables</p>
</div>
<div class="body">
<p>Clears old &quot;flash&quot; data, marks the new one for deletion and handles
&quot;temp&quot; data deletion.</p>
</div>
<div class="details">
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>void
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_ci_init_vars</span><span class="hljs-params">()</span>
	</span>{
		<span class="hljs-keyword">if</span> ( ! <span class="hljs-keyword">empty</span>($_SESSION[<span class="hljs-string">'__ci_vars'</span>]))
		{
			$current_time = time();

			<span class="hljs-keyword">foreach</span> ($_SESSION[<span class="hljs-string">'__ci_vars'</span>] <span class="hljs-keyword">as</span> $key =&gt; &amp;$value)
			{
				<span class="hljs-keyword">if</span> ($value === <span class="hljs-string">'new'</span>)
				{
					$_SESSION[<span class="hljs-string">'__ci_vars'</span>][$key] = <span class="hljs-string">'old'</span>;
				}
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-26" id="section-26"></a>
</div>
<p>Hacky, but 'old' will (implicitly) always be less than time() ;)
DO NOT move this above the 'new' check!</p>

        </td>
        <td class="code highlight">
          <pre class="php">				<span class="hljs-keyword">elseif</span> ($value &lt; $current_time)
				{
					<span class="hljs-keyword">unset</span>($_SESSION[$key], $_SESSION[<span class="hljs-string">'__ci_vars'</span>][$key]);
				}
			}

			<span class="hljs-keyword">if</span> (<span class="hljs-keyword">empty</span>($_SESSION[<span class="hljs-string">'__ci_vars'</span>]))
			{
				<span class="hljs-keyword">unset</span>($_SESSION[<span class="hljs-string">'__ci_vars'</span>]);
			}
		}

		<span class="hljs-keyword">$this</span>-&gt;userdata =&amp; $_SESSION;
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-27" id="section-27"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-28" id="section-28"></a>
</div>
<div class="dox">
<div class="summary">
<p>Mark as flash</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">mixed</span>
<span>$key Session data key(s)
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>bool
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mark_as_flash</span><span class="hljs-params">($key)</span>
	</span>{
		<span class="hljs-keyword">if</span> (is_array($key))
		{
			<span class="hljs-keyword">for</span> ($i = <span class="hljs-number">0</span>, $c = count($key); $i &lt; $c; $i++)
			{
				<span class="hljs-keyword">if</span> ( ! <span class="hljs-keyword">isset</span>($_SESSION[$key[$i]]))
				{
					<span class="hljs-keyword">return</span> <span class="hljs-keyword">FALSE</span>;
				}
			}

			$new = array_fill_keys($key, <span class="hljs-string">'new'</span>);

			$_SESSION[<span class="hljs-string">'__ci_vars'</span>] = <span class="hljs-keyword">isset</span>($_SESSION[<span class="hljs-string">'__ci_vars'</span>])
				? array_merge($_SESSION[<span class="hljs-string">'__ci_vars'</span>], $new)
				: $new;

			<span class="hljs-keyword">return</span> <span class="hljs-keyword">TRUE</span>;
		}

		<span class="hljs-keyword">if</span> ( ! <span class="hljs-keyword">isset</span>($_SESSION[$key]))
		{
			<span class="hljs-keyword">return</span> <span class="hljs-keyword">FALSE</span>;
		}

		$_SESSION[<span class="hljs-string">'__ci_vars'</span>][$key] = <span class="hljs-string">'new'</span>;
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">TRUE</span>;
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-29" id="section-29"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-30" id="section-30"></a>
</div>
<div class="dox">
<div class="summary">
<p>Get flash keys</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>array
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">get_flash_keys</span><span class="hljs-params">()</span>
	</span>{
		<span class="hljs-keyword">if</span> ( ! <span class="hljs-keyword">isset</span>($_SESSION[<span class="hljs-string">'__ci_vars'</span>]))
		{
			<span class="hljs-keyword">return</span> <span class="hljs-keyword">array</span>();
		}

		$keys = <span class="hljs-keyword">array</span>();
		<span class="hljs-keyword">foreach</span> (array_keys($_SESSION[<span class="hljs-string">'__ci_vars'</span>]) <span class="hljs-keyword">as</span> $key)
		{
			is_int($_SESSION[<span class="hljs-string">'__ci_vars'</span>][$key]) <span class="hljs-keyword">OR</span> $keys[] = $key;
		}

		<span class="hljs-keyword">return</span> $keys;
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-31" id="section-31"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-32" id="section-32"></a>
</div>
<div class="dox">
<div class="summary">
<p>Unmark flash</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">mixed</span>
<span>$key Session data key(s)
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>void
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">unmark_flash</span><span class="hljs-params">($key)</span>
	</span>{
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">empty</span>($_SESSION[<span class="hljs-string">'__ci_vars'</span>]))
		{
			<span class="hljs-keyword">return</span>;
		}

		is_array($key) <span class="hljs-keyword">OR</span> $key = <span class="hljs-keyword">array</span>($key);

		<span class="hljs-keyword">foreach</span> ($key <span class="hljs-keyword">as</span> $k)
		{
			<span class="hljs-keyword">if</span> (<span class="hljs-keyword">isset</span>($_SESSION[<span class="hljs-string">'__ci_vars'</span>][$k]) &amp;&amp; ! is_int($_SESSION[<span class="hljs-string">'__ci_vars'</span>][$k]))
			{
				<span class="hljs-keyword">unset</span>($_SESSION[<span class="hljs-string">'__ci_vars'</span>][$k]);
			}
		}

		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">empty</span>($_SESSION[<span class="hljs-string">'__ci_vars'</span>]))
		{
			<span class="hljs-keyword">unset</span>($_SESSION[<span class="hljs-string">'__ci_vars'</span>]);
		}
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-33" id="section-33"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-34" id="section-34"></a>
</div>
<div class="dox">
<div class="summary">
<p>Mark as temp</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">mixed</span>
<span>$key Session data key(s)
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">int</span>
<span>$ttl Time-to-live in seconds
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>bool
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mark_as_temp</span><span class="hljs-params">($key, $ttl = <span class="hljs-number">300</span>)</span>
	</span>{
		$ttl += time();

		<span class="hljs-keyword">if</span> (is_array($key))
		{
			$temp = <span class="hljs-keyword">array</span>();

			<span class="hljs-keyword">foreach</span> ($key <span class="hljs-keyword">as</span> $k =&gt; $v)
			{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-35" id="section-35"></a>
</div>
<p>Do we have a key =&gt; ttl pair, or just a key?</p>

        </td>
        <td class="code highlight">
          <pre class="php">				<span class="hljs-keyword">if</span> (is_int($k))
				{
					$k = $v;
					$v = $ttl;
				}
				<span class="hljs-keyword">else</span>
				{
					$v += time();
				}

				<span class="hljs-keyword">if</span> ( ! <span class="hljs-keyword">isset</span>($_SESSION[$k]))
				{
					<span class="hljs-keyword">return</span> <span class="hljs-keyword">FALSE</span>;
				}

				$temp[$k] = $v;
			}

			$_SESSION[<span class="hljs-string">'__ci_vars'</span>] = <span class="hljs-keyword">isset</span>($_SESSION[<span class="hljs-string">'__ci_vars'</span>])
				? array_merge($_SESSION[<span class="hljs-string">'__ci_vars'</span>], $temp)
				: $temp;

			<span class="hljs-keyword">return</span> <span class="hljs-keyword">TRUE</span>;
		}

		<span class="hljs-keyword">if</span> ( ! <span class="hljs-keyword">isset</span>($_SESSION[$key]))
		{
			<span class="hljs-keyword">return</span> <span class="hljs-keyword">FALSE</span>;
		}

		$_SESSION[<span class="hljs-string">'__ci_vars'</span>][$key] = $ttl;
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">TRUE</span>;
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-36" id="section-36"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-37" id="section-37"></a>
</div>
<div class="dox">
<div class="summary">
<p>Get temp keys</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>array
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">get_temp_keys</span><span class="hljs-params">()</span>
	</span>{
		<span class="hljs-keyword">if</span> ( ! <span class="hljs-keyword">isset</span>($_SESSION[<span class="hljs-string">'__ci_vars'</span>]))
		{
			<span class="hljs-keyword">return</span> <span class="hljs-keyword">array</span>();
		}

		$keys = <span class="hljs-keyword">array</span>();
		<span class="hljs-keyword">foreach</span> (array_keys($_SESSION[<span class="hljs-string">'__ci_vars'</span>]) <span class="hljs-keyword">as</span> $key)
		{
			is_int($_SESSION[<span class="hljs-string">'__ci_vars'</span>][$key]) &amp;&amp; $keys[] = $key;
		}

		<span class="hljs-keyword">return</span> $keys;
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-38" id="section-38"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-39" id="section-39"></a>
</div>
<div class="dox">
<div class="summary">
<p>Unmark temp</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">mixed</span>
<span>$key Session data key(s)
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>void
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">unmark_temp</span><span class="hljs-params">($key)</span>
	</span>{
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">empty</span>($_SESSION[<span class="hljs-string">'__ci_vars'</span>]))
		{
			<span class="hljs-keyword">return</span>;
		}

		is_array($key) <span class="hljs-keyword">OR</span> $key = <span class="hljs-keyword">array</span>($key);

		<span class="hljs-keyword">foreach</span> ($key <span class="hljs-keyword">as</span> $k)
		{
			<span class="hljs-keyword">if</span> (<span class="hljs-keyword">isset</span>($_SESSION[<span class="hljs-string">'__ci_vars'</span>][$k]) &amp;&amp; is_int($_SESSION[<span class="hljs-string">'__ci_vars'</span>][$k]))
			{
				<span class="hljs-keyword">unset</span>($_SESSION[<span class="hljs-string">'__ci_vars'</span>][$k]);
			}
		}

		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">empty</span>($_SESSION[<span class="hljs-string">'__ci_vars'</span>]))
		{
			<span class="hljs-keyword">unset</span>($_SESSION[<span class="hljs-string">'__ci_vars'</span>]);
		}
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-40" id="section-40"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-41" id="section-41"></a>
</div>
<div class="dox">
<div class="summary">
<p>__get()</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
<span>$key 'session_id' or a session data key
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>mixed
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__get</span><span class="hljs-params">($key)</span>
	</span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-42" id="section-42"></a>
</div>
<p>Note: Keep this order the same, just in case somebody wants to
use 'session_id' as a session data key, for whatever reason</p>

        </td>
        <td class="code highlight">
          <pre class="php">		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">isset</span>($_SESSION[$key]))
		{
			<span class="hljs-keyword">return</span> $_SESSION[$key];
		}
		<span class="hljs-keyword">elseif</span> ($key === <span class="hljs-string">'session_id'</span>)
		{
			<span class="hljs-keyword">return</span> session_id();
		}

		<span class="hljs-keyword">return</span> <span class="hljs-keyword">NULL</span>;
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-43" id="section-43"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-44" id="section-44"></a>
</div>
<div class="dox">
<div class="summary">
<p>__isset()</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
<span>$key 'session_id' or a session data key
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>bool
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__isset</span><span class="hljs-params">($key)</span>
	</span>{
		<span class="hljs-keyword">if</span> ($key === <span class="hljs-string">'session_id'</span>)
		{
			<span class="hljs-keyword">return</span> (session_status() === PHP_SESSION_ACTIVE);
		}

		<span class="hljs-keyword">return</span> <span class="hljs-keyword">isset</span>($_SESSION[$key]);
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-45" id="section-45"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-46" id="section-46"></a>
</div>
<div class="dox">
<div class="summary">
<p>__set()</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
<span>$key Session data key
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">mixed</span>
<span>$value Session data value
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>void
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__set</span><span class="hljs-params">($key, $value)</span>
	</span>{
		$_SESSION[$key] = $value;
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-47" id="section-47"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-48" id="section-48"></a>
</div>
<div class="dox">
<div class="summary">
<p>Session destroy</p>
</div>
<div class="body">
<p>Legacy CI_Session compatibility method</p>
</div>
<div class="details">
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>void
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sess_destroy</span><span class="hljs-params">()</span>
	</span>{
		session_destroy();
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-49" id="section-49"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-50" id="section-50"></a>
</div>
<div class="dox">
<div class="summary">
<p>Session regenerate</p>
</div>
<div class="body">
<p>Legacy CI_Session compatibility method</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">bool</span>
<span>$destroy Destroy old session data flag
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>void
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sess_regenerate</span><span class="hljs-params">($destroy = FALSE)</span>
	</span>{
		$_SESSION[<span class="hljs-string">'__ci_last_regenerate'</span>] = time();
		session_regenerate_id($destroy);
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-51" id="section-51"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-52" id="section-52"></a>
</div>
<div class="dox">
<div class="summary">
<p>Get userdata reference</p>
</div>
<div class="body">
<p>Legacy CI_Session compatibility method</p>
</div>
<div class="details">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> &amp;<span class="hljs-title">get_userdata</span><span class="hljs-params">()</span>
	</span>{
		<span class="hljs-keyword">return</span> $_SESSION;
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-53" id="section-53"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-54" id="section-54"></a>
</div>
<div class="dox">
<div class="summary">
<p>Userdata (fetch)</p>
</div>
<div class="body">
<p>Legacy CI_Session compatibility method</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
<span>$key Session data key
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>mixed Session data value or NULL if not found
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">userdata</span><span class="hljs-params">($key = NULL)</span>
	</span>{
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">isset</span>($key))
		{
			<span class="hljs-keyword">return</span> <span class="hljs-keyword">isset</span>($_SESSION[$key]) ? $_SESSION[$key] : <span class="hljs-keyword">NULL</span>;
		}
		<span class="hljs-keyword">elseif</span> (<span class="hljs-keyword">empty</span>($_SESSION))
		{
			<span class="hljs-keyword">return</span> <span class="hljs-keyword">array</span>();
		}

		$userdata = <span class="hljs-keyword">array</span>();
		$_exclude = array_merge(
			<span class="hljs-keyword">array</span>(<span class="hljs-string">'__ci_vars'</span>),
			<span class="hljs-keyword">$this</span>-&gt;get_flash_keys(),
			<span class="hljs-keyword">$this</span>-&gt;get_temp_keys()
		);

		<span class="hljs-keyword">foreach</span> (array_keys($_SESSION) <span class="hljs-keyword">as</span> $key)
		{
			<span class="hljs-keyword">if</span> ( ! in_array($key, $_exclude, <span class="hljs-keyword">TRUE</span>))
			{
				$userdata[$key] = $_SESSION[$key];
			}
		}

		<span class="hljs-keyword">return</span> $userdata;
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-55" id="section-55"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-56" id="section-56"></a>
</div>
<div class="dox">
<div class="summary">
<p>Set userdata</p>
</div>
<div class="body">
<p>Legacy CI_Session compatibility method</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">mixed</span>
<span>$data Session data key or an associative array
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">mixed</span>
<span>$value Value to store
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>void
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">set_userdata</span><span class="hljs-params">($data, $value = NULL)</span>
	</span>{
		<span class="hljs-keyword">if</span> (is_array($data))
		{
			<span class="hljs-keyword">foreach</span> ($data <span class="hljs-keyword">as</span> $key =&gt; &amp;$value)
			{
				$_SESSION[$key] = $value;
			}

			<span class="hljs-keyword">return</span>;
		}

		$_SESSION[$data] = $value;
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-57" id="section-57"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-58" id="section-58"></a>
</div>
<div class="dox">
<div class="summary">
<p>Unset userdata</p>
</div>
<div class="body">
<p>Legacy CI_Session compatibility method</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">mixed</span>
<span>$key Session data key(s)
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>void
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">unset_userdata</span><span class="hljs-params">($key)</span>
	</span>{
		<span class="hljs-keyword">if</span> (is_array($key))
		{
			<span class="hljs-keyword">foreach</span> ($key <span class="hljs-keyword">as</span> $k)
			{
				<span class="hljs-keyword">unset</span>($_SESSION[$k]);
			}

			<span class="hljs-keyword">return</span>;
		}

		<span class="hljs-keyword">unset</span>($_SESSION[$key]);
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-59" id="section-59"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-60" id="section-60"></a>
</div>
<div class="dox">
<div class="summary">
<p>All userdata (fetch)</p>
</div>
<div class="body">
<p>Legacy CI_Session compatibility method</p>
</div>
<div class="details">
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>array $_SESSION, excluding flash data items
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">all_userdata</span><span class="hljs-params">()</span>
	</span>{
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;userdata();
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-61" id="section-61"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-62" id="section-62"></a>
</div>
<div class="dox">
<div class="summary">
<p>Has userdata</p>
</div>
<div class="body">
<p>Legacy CI_Session compatibility method</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
<span>$key Session data key
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>bool
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">has_userdata</span><span class="hljs-params">($key)</span>
	</span>{
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">isset</span>($_SESSION[$key]);
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-63" id="section-63"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-64" id="section-64"></a>
</div>
<div class="dox">
<div class="summary">
<p>Flashdata (fetch)</p>
</div>
<div class="body">
<p>Legacy CI_Session compatibility method</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
<span>$key Session data key
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>mixed Session data value or NULL if not found
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">flashdata</span><span class="hljs-params">($key = NULL)</span>
	</span>{
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">isset</span>($key))
		{
			<span class="hljs-keyword">return</span> (<span class="hljs-keyword">isset</span>($_SESSION[<span class="hljs-string">'__ci_vars'</span>], $_SESSION[<span class="hljs-string">'__ci_vars'</span>][$key], $_SESSION[$key]) &amp;&amp; ! is_int($_SESSION[<span class="hljs-string">'__ci_vars'</span>][$key]))
				? $_SESSION[$key]
				: <span class="hljs-keyword">NULL</span>;
		}

		$flashdata = <span class="hljs-keyword">array</span>();

		<span class="hljs-keyword">if</span> ( ! <span class="hljs-keyword">empty</span>($_SESSION[<span class="hljs-string">'__ci_vars'</span>]))
		{
			<span class="hljs-keyword">foreach</span> ($_SESSION[<span class="hljs-string">'__ci_vars'</span>] <span class="hljs-keyword">as</span> $key =&gt; &amp;$value)
			{
				is_int($value) <span class="hljs-keyword">OR</span> $flashdata[$key] = $_SESSION[$key];
			}
		}

		<span class="hljs-keyword">return</span> $flashdata;
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-65" id="section-65"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-66" id="section-66"></a>
</div>
<div class="dox">
<div class="summary">
<p>Set flashdata</p>
</div>
<div class="body">
<p>Legacy CI_Session compatibility method</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">mixed</span>
<span>$data Session data key or an associative array
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">mixed</span>
<span>$value Value to store
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>void
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">set_flashdata</span><span class="hljs-params">($data, $value = NULL)</span>
	</span>{
		<span class="hljs-keyword">$this</span>-&gt;set_userdata($data, $value);
		<span class="hljs-keyword">$this</span>-&gt;mark_as_flash(is_array($data) ? array_keys($data) : $data);
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-67" id="section-67"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-68" id="section-68"></a>
</div>
<div class="dox">
<div class="summary">
<p>Keep flashdata</p>
</div>
<div class="body">
<p>Legacy CI_Session compatibility method</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">mixed</span>
<span>$key Session data key(s)
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>void
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">keep_flashdata</span><span class="hljs-params">($key)</span>
	</span>{
		<span class="hljs-keyword">$this</span>-&gt;mark_as_flash($key);
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-69" id="section-69"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-70" id="section-70"></a>
</div>
<div class="dox">
<div class="summary">
<p>Temp data (fetch)</p>
</div>
<div class="body">
<p>Legacy CI_Session compatibility method</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">string</span>
<span>$key Session data key
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>mixed Session data value or NULL if not found
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">tempdata</span><span class="hljs-params">($key = NULL)</span>
	</span>{
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">isset</span>($key))
		{
			<span class="hljs-keyword">return</span> (<span class="hljs-keyword">isset</span>($_SESSION[<span class="hljs-string">'__ci_vars'</span>], $_SESSION[<span class="hljs-string">'__ci_vars'</span>][$key], $_SESSION[$key]) &amp;&amp; is_int($_SESSION[<span class="hljs-string">'__ci_vars'</span>][$key]))
				? $_SESSION[$key]
				: <span class="hljs-keyword">NULL</span>;
		}

		$tempdata = <span class="hljs-keyword">array</span>();

		<span class="hljs-keyword">if</span> ( ! <span class="hljs-keyword">empty</span>($_SESSION[<span class="hljs-string">'__ci_vars'</span>]))
		{
			<span class="hljs-keyword">foreach</span> ($_SESSION[<span class="hljs-string">'__ci_vars'</span>] <span class="hljs-keyword">as</span> $key =&gt; &amp;$value)
			{
				is_int($value) &amp;&amp; $tempdata[$key] = $_SESSION[$key];
			}
		}

		<span class="hljs-keyword">return</span> $tempdata;
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-71" id="section-71"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-72" id="section-72"></a>
</div>
<div class="dox">
<div class="summary">
<p>Set tempdata</p>
</div>
<div class="body">
<p>Legacy CI_Session compatibility method</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">mixed</span>
<span>$data Session data key or an associative array of items
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">mixed</span>
<span>$value Value to store
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">int</span>
<span>$ttl Time-to-live in seconds
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>void
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">set_tempdata</span><span class="hljs-params">($data, $value = NULL, $ttl = <span class="hljs-number">300</span>)</span>
	</span>{
		<span class="hljs-keyword">$this</span>-&gt;set_userdata($data, $value);
		<span class="hljs-keyword">$this</span>-&gt;mark_as_temp(is_array($data) ? array_keys($data) : $data, $ttl);
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-73" id="section-73"></a>
</div>
<hr>

        </td>
        <td class="code highlight">
          <pre class="php">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-74" id="section-74"></a>
</div>
<div class="dox">
<div class="summary">
<p>Unset tempdata</p>
</div>
<div class="body">
<p>Legacy CI_Session compatibility method</p>
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">mixed</span>
<span>$data Session data key(s)
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span>void
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="php">	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">unset_tempdata</span><span class="hljs-params">($key)</span>
	</span>{
		<span class="hljs-keyword">$this</span>-&gt;unmark_temp($key);
	}

}

</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
